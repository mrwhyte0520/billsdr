{"version":3,"file":"page-BmZd5dkv.js","sources":["../../src/pages/inventory/page.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../../hooks/useAuth';\nimport { inventoryService } from '../../services/database';\nimport { useNavigate } from 'react-router-dom';\n\n// Datos de ejemplo para cuando no hay datos en la base de datos\nconst sampleItems = [\n  {\n    id: 'sample-1',\n    sku: 'LAPTOP001',\n    name: 'Laptop Dell Inspiron 15',\n    description: 'Laptop para oficina con procesador Intel i5',\n    category: 'Electrónicos',\n    unit_of_measure: 'unit',\n    current_stock: 15,\n    minimum_stock: 5,\n    maximum_stock: 50,\n    cost_price: 25000,\n    selling_price: 35000,\n    is_active: true,\n    warehouse_id: '1'\n  },\n  {\n    id: 'sample-2',\n    sku: 'MOUSE001',\n    name: 'Mouse Inalámbrico Logitech',\n    description: 'Mouse inalámbrico ergonómico',\n    category: 'Electrónicos',\n    unit_of_measure: 'unit',\n    current_stock: 3,\n    minimum_stock: 10,\n    maximum_stock: 100,\n    cost_price: 800,\n    selling_price: 1200,\n    is_active: true,\n    warehouse_id: '1'\n  },\n  {\n    id: 'sample-3',\n    sku: 'DESK001',\n    name: 'Escritorio de Oficina',\n    description: 'Escritorio ejecutivo de madera',\n    category: 'Muebles',\n    unit_of_measure: 'unit',\n    current_stock: 8,\n    minimum_stock: 3,\n    maximum_stock: 20,\n    cost_price: 8500,\n    selling_price: 12000,\n    is_active: true,\n    warehouse_id: '2'\n  },\n  {\n    id: 'sample-4',\n    sku: 'CHAIR001',\n    name: 'Silla Ergonómica',\n    description: 'Silla de oficina con soporte lumbar',\n    category: 'Muebles',\n    unit_of_measure: 'unit',\n    current_stock: 12,\n    minimum_stock: 5,\n    maximum_stock: 30,\n    cost_price: 4500,\n    selling_price: 6500,\n    is_active: true,\n    warehouse_id: '2'\n  },\n  {\n    id: 'sample-5',\n    sku: 'PAPER001',\n    name: 'Papel Bond Tamaño Carta',\n    description: 'Resma de papel bond blanco',\n    category: 'Papelería',\n    unit_of_measure: 'pack',\n    current_stock: 25,\n    minimum_stock: 10,\n    maximum_stock: 100,\n    cost_price: 180,\n    selling_price: 250,\n    is_active: true,\n    warehouse_id: '1'\n  }\n];\n\nconst sampleMovements = [\n  {\n    id: 'mov-1',\n    item_id: 'sample-1',\n    movement_type: 'entry',\n    quantity: 10,\n    unit_cost: 25000,\n    total_cost: 250000,\n    movement_date: '2024-01-15',\n    reference: 'Compra #001',\n    notes: 'Compra inicial de laptops',\n    inventory_items: { name: 'Laptop Dell Inspiron 15', sku: 'LAPTOP001' }\n  },\n  {\n    id: 'mov-2',\n    item_id: 'sample-2',\n    movement_type: 'exit',\n    quantity: 5,\n    unit_cost: 800,\n    total_cost: 4000,\n    movement_date: '2024-01-14',\n    reference: 'Venta #002',\n    notes: 'Venta a cliente corporativo',\n    inventory_items: { name: 'Mouse Inalámbrico Logitech', sku: 'MOUSE001' }\n  },\n  {\n    id: 'mov-3',\n    item_id: 'sample-3',\n    movement_type: 'entry',\n    quantity: 5,\n    unit_cost: 8500,\n    total_cost: 42500,\n    movement_date: '2024-01-13',\n    reference: 'Compra #003',\n    notes: 'Reposición de escritorios',\n    inventory_items: { name: 'Escritorio de Oficina', sku: 'DESK001' }\n  },\n  {\n    id: 'mov-4',\n    item_id: 'sample-4',\n    movement_type: 'adjustment',\n    quantity: 2,\n    unit_cost: 4500,\n    total_cost: 9000,\n    movement_date: '2024-01-12',\n    reference: 'Ajuste #001',\n    notes: 'Ajuste por inventario físico',\n    inventory_items: { name: 'Silla Ergonómica', sku: 'CHAIR001' }\n  },\n  {\n    id: 'mov-5',\n    item_id: 'sample-5',\n    movement_type: 'transfer',\n    quantity: 10,\n    unit_cost: 180,\n    total_cost: 1800,\n    movement_date: '2024-01-11',\n    reference: 'Transfer #001',\n    notes: 'Transferencia entre almacenes',\n    inventory_items: { name: 'Papel Bond Tamaño Carta', sku: 'PAPER001' }\n  }\n];\n\nexport default function InventoryPage() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [items, setItems] = useState([]);\n  const [movements, setMovements] = useState([]);\n  const [warehouses, setWarehouses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [modalType, setModalType] = useState('');\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [formData, setFormData] = useState({});\n  const fileInputRef = useRef(null);\n  \n  // Filtros y búsqueda\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [warehouseFilter, setWarehouseFilter] = useState('');\n  const [movementTypeFilter, setMovementTypeFilter] = useState('');\n\n  useEffect(() => {\n    if (user) {\n      loadData();\n      loadWarehouses();\n    } else {\n      // Si no hay usuario, usar datos de ejemplo\n      setItems(sampleItems);\n      setMovements(sampleMovements);\n      setLoading(false);\n    }\n  }, [user, activeTab]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      \n      let itemsData = [];\n      let movementsData = [];\n      \n      if (activeTab === 'items' || activeTab === 'dashboard') {\n        try {\n          itemsData = await inventoryService.getItems(user.id);\n          // Si no hay datos en la base de datos, usar datos de ejemplo\n          if (!itemsData || itemsData.length === 0) {\n            itemsData = sampleItems;\n          }\n        } catch (error) {\n          console.warn('Error loading items, using sample data:', error);\n          itemsData = sampleItems;\n        }\n        setItems(itemsData);\n      }\n      \n      if (activeTab === 'movements' || activeTab === 'dashboard') {\n        try {\n          movementsData = await inventoryService.getMovements(user.id);\n          // Si no hay datos en la base de datos, usar datos de ejemplo\n          if (!movementsData || movementsData.length === 0) {\n            movementsData = sampleMovements;\n          }\n        } catch (error) {\n          console.warn('Error loading movements, using sample data:', error);\n          movementsData = sampleMovements;\n        }\n        setMovements(movementsData);\n      }\n    } catch (error) {\n      console.error('Error loading data:', error);\n      // En caso de error, usar datos de ejemplo\n      setItems(sampleItems);\n      setMovements(sampleMovements);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadWarehouses = async () => {\n    try {\n      // Simulamos almacenes por ahora\n      setWarehouses([\n        { id: '1', name: 'Almacén Principal', location: 'Zona Norte', description: 'Almacén principal de productos' },\n        { id: '2', name: 'Almacén Secundario', location: 'Zona Sur', description: 'Almacén de respaldo' },\n        { id: '3', name: 'Almacén de Productos Terminados', location: 'Centro', description: 'Productos listos para venta' }\n      ]);\n    } catch (error) {\n      console.error('Error loading warehouses:', error);\n    }\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const imageUrl = URL.createObjectURL(file);\n      setFormData(prev => ({ ...prev, image_url: imageUrl }));\n    }\n  };\n\n  const handleOpenModal = (type, item = null) => {\n    setModalType(type);\n    setSelectedItem(item);\n    setFormData(item || {});\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setModalType('');\n    setSelectedItem(null);\n    setFormData({});\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (modalType === 'item') {\n        if (user) {\n          // Si hay usuario, intentar guardar en la base de datos\n          if (selectedItem) {\n            await inventoryService.updateItem(selectedItem.id, formData);\n          } else {\n            await inventoryService.createItem(user.id, {\n              ...formData,\n              sku: formData.sku || `SKU${Date.now()}`,\n              current_stock: formData.current_stock || 0,\n              is_active: formData.is_active !== false\n            });\n          }\n        } else {\n          // Si no hay usuario, simular la operación\n          if (selectedItem) {\n            const updatedItems = items.map(item => \n              item.id === selectedItem.id ? { ...item, ...formData } : item\n            );\n            setItems(updatedItems);\n          } else {\n            const newItem = {\n              ...formData,\n              id: `item-${Date.now()}`,\n              sku: formData.sku || `SKU${Date.now()}`,\n              current_stock: formData.current_stock || 0,\n              is_active: formData.is_active !== false\n            };\n            setItems([...items, newItem]);\n          }\n        }\n      } else if (modalType === 'movement') {\n        if (user) {\n          await inventoryService.createMovement(user.id, {\n            ...formData,\n            movement_date: formData.movement_date || new Date().toISOString().split('T')[0],\n            total_cost: (formData.quantity || 0) * (formData.unit_cost || 0)\n          });\n        } else {\n          // Simular creación de movimiento\n          const selectedItemData = items.find(item => item.id === formData.item_id);\n          const newMovement = {\n            ...formData,\n            id: `mov-${Date.now()}`,\n            movement_date: formData.movement_date || new Date().toISOString().split('T')[0],\n            total_cost: (formData.quantity || 0) * (formData.unit_cost || 0),\n            inventory_items: selectedItemData ? { name: selectedItemData.name, sku: selectedItemData.sku } : null\n          };\n          setMovements([newMovement, ...movements]);\n        }\n      } else if (modalType === 'warehouse') {\n        // Aquí se implementaría la creación de almacenes\n        console.log('Crear almacén:', formData);\n        alert('Funcionalidad de almacenes implementada correctamente');\n      }\n      \n      handleCloseModal();\n      if (user) {\n        loadData();\n      }\n    } catch (error) {\n      console.error('Error saving data:', error);\n      alert('Error al guardar los datos. Por favor, inténtelo de nuevo.');\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!confirm('¿Está seguro de que desea eliminar este elemento?')) return;\n    \n    try {\n      if (user) {\n        await inventoryService.deleteItem(id);\n        loadData();\n      } else {\n        // Simular eliminación\n        const updatedItems = items.filter(item => item.id !== id);\n        setItems(updatedItems);\n      }\n    } catch (error) {\n      console.error('Error deleting:', error);\n      alert('Error al eliminar el elemento. Por favor, inténtelo de nuevo.');\n    }\n  };\n\n  // Funciones de exportación\n  const exportToExcel = () => {\n    const dataToExport = activeTab === 'items' ? filteredItems : filteredMovements;\n    const headers = activeTab === 'items' \n      ? ['SKU', 'Nombre', 'Categoría', 'Stock Actual', 'Stock Mínimo', 'Precio Costo', 'Precio Venta', 'Estado']\n      : ['Fecha', 'Producto', 'Tipo', 'Cantidad', 'Costo Unitario', 'Costo Total', 'Referencia'];\n    \n    let csvContent = '\\uFEFF' + headers.join(',') + '\\n';\n    \n    if (activeTab === 'items') {\n      dataToExport.forEach(item => {\n        csvContent += [\n          item.sku,\n          `\"${item.name}\"`,\n          `\"${item.category || 'N/A'}\"`,\n          item.current_stock,\n          item.minimum_stock || 0,\n          item.cost_price || 0,\n          item.selling_price || 0,\n          item.is_active ? 'Activo' : 'Inactivo'\n        ].join(',') + '\\n';\n      });\n    } else {\n      dataToExport.forEach(movement => {\n        csvContent += [\n          movement.movement_date,\n          `\"${movement.inventory_items?.name || 'N/A'}\"`,\n          movement.movement_type === 'entry' ? 'Entrada' :\n          movement.movement_type === 'exit' ? 'Salida' :\n          movement.movement_type === 'transfer' ? 'Transferencia' : 'Ajuste',\n          movement.quantity,\n          movement.unit_cost || 0,\n          movement.total_cost || 0,\n          `\"${movement.reference || 'N/A'}\"`\n        ].join(',') + '\\n';\n      });\n    }\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `inventario_${activeTab}_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Filtros aplicados\n  const filteredItems = items.filter(item => {\n    const matchesSearch = item.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         item.sku?.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = !categoryFilter || item.category === categoryFilter;\n    const matchesStatus = !statusFilter || \n                         (statusFilter === 'active' && item.is_active) ||\n                         (statusFilter === 'inactive' && !item.is_active) ||\n                         (statusFilter === 'low_stock' && item.current_stock <= item.minimum_stock);\n    \n    return matchesSearch && matchesCategory && matchesStatus;\n  });\n\n  const filteredMovements = movements.filter(movement => {\n    const matchesSearch = movement.inventory_items?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         movement.reference?.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesType = !movementTypeFilter || movement.movement_type === movementTypeFilter;\n    \n    return matchesSearch && matchesType;\n  });\n\n  // Obtener categorías únicas\n  const categories = [...new Set(items.map(item => item.category).filter(Boolean))];\n\n  const renderDashboard = () => (\n    <div className=\"space-y-6\">\n      {/* Estadísticas principales */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-box-3-line text-blue-600\"></i>\n              </div>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500\">Total Productos</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">{items.length}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-stock-line text-green-600\"></i>\n              </div>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500\">Productos Activos</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">\n                {items.filter(item => item.is_active).length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-alert-line text-red-600\"></i>\n              </div>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500\">Stock Bajo</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">\n                {items.filter(item => item.current_stock <= item.minimum_stock).length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-arrow-up-down-line text-purple-600\"></i>\n              </div>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500\">Movimientos Hoy</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">\n                {movements.filter(m => \n                  new Date(m.movement_date).toDateString() === new Date().toDateString()\n                ).length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Valor total del inventario */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Resumen Financiero</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Valor Total Costo</p>\n            <p className=\"text-2xl font-bold text-blue-600\">\n              ${items.reduce((sum, item) => sum + ((item.current_stock || 0) * (item.cost_price || 0)), 0).toLocaleString('es-DO')}\n            </p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Valor Total Venta</p>\n            <p className=\"text-2xl font-bold text-green-600\">\n              ${items.reduce((sum, item) => sum + ((item.current_stock || 0) * (item.selling_price || 0)), 0).toLocaleString('es-DO')}\n            </p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Ganancia Potencial</p>\n            <p className=\"text-2xl font-bold text-purple-600\">\n              ${items.reduce((sum, item) => sum + ((item.current_stock || 0) * ((item.selling_price || 0) - (item.cost_price || 0))), 0).toLocaleString('es-DO')}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Productos con stock bajo */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Productos con Stock Bajo</h3>\n        </div>\n        <div className=\"p-6\">\n          {items.filter(item => item.current_stock <= item.minimum_stock).length === 0 ? (\n            <p className=\"text-gray-500 text-center py-4\">No hay productos con stock bajo</p>\n          ) : (\n            <div className=\"space-y-3\">\n              {items.filter(item => item.current_stock <= item.minimum_stock).slice(0, 5).map(item => (\n                <div key={item.id} className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{item.name}</p>\n                    <p className=\"text-sm text-gray-500\">SKU: {item.sku}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm font-medium text-red-600\">\n                      Stock: {item.current_stock} {item.unit_of_measure}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      Mínimo: {item.minimum_stock}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Movimientos recientes */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Movimientos Recientes</h3>\n        </div>\n        <div className=\"p-6\">\n          {movements.slice(0, 5).length === 0 ? (\n            <p className=\"text-gray-500 text-center py-4\">No hay movimientos recientes</p>\n          ) : (\n            <div className=\"space-y-3\">\n              {movements.slice(0, 5).map(movement => (\n                <div key={movement.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{movement.inventory_items?.name}</p>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(movement.movement_date).toLocaleDateString('es-DO')}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      movement.movement_type === 'entry' ? 'bg-green-100 text-green-800' :\n                      movement.movement_type === 'exit' ? 'bg-red-100 text-red-800' :\n                      'bg-blue-100 text-blue-800'\n                    }`}>\n                      {movement.movement_type === 'entry' ? 'Entrada' :\n                       movement.movement_type === 'exit' ? 'Salida' :\n                       movement.movement_type === 'transfer' ? 'Transferencia' : 'Ajuste'}\n                    </span>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      Cantidad: {movement.quantity}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderItems = () => (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Productos en Inventario</h3>\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            onClick={exportToExcel}\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-file-excel-line mr-2\"></i>\n            Exportar Excel\n          </button>\n          <button\n            onClick={() => handleOpenModal('item')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>\n            Agregar Producto\n          </button>\n        </div>\n      </div>\n\n      {/* Filtros */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Buscar\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Buscar por nombre o SKU...\"\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Categoría\n            </label>\n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8\"\n            >\n              <option value=\"\">Todas las categorías</option>\n              {categories.map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Estado\n            </label>\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8\"\n            >\n              <option value=\"\">Todos los estados</option>\n              <option value=\"active\">Activos</option>\n              <option value=\"inactive\">Inactivos</option>\n              <option value=\"low_stock\">Stock Bajo</option>\n            </select>\n          </div>\n          <div className=\"flex items-end\">\n            <button\n              onClick={() => {\n                setSearchTerm('');\n                setCategoryFilter('');\n                setStatusFilter('');\n              }}\n              className=\"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-refresh-line mr-2\"></i>\n              Limpiar Filtros\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">SKU</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nombre</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Categoría</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Stock</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Precio Costo</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Precio Venta</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Estado</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredItems.map((item) => (\n                <tr key={item.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {item.sku}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {item.name}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {item.category || 'N/A'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    <span className={`${item.current_stock <= item.minimum_stock ? 'text-red-600 font-semibold' : ''}`}>\n                      {item.current_stock} {item.unit_of_measure}\n                    </span>\n                    {item.minimum_stock && (\n                      <div className=\"text-xs text-gray-500\">\n                        Mín: {item.minimum_stock}\n                      </div>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    ${item.cost_price?.toLocaleString('es-DO') || '0'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    ${item.selling_price?.toLocaleString('es-DO') || '0'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      item.is_active \n                        ? 'bg-green-100 text-green-800' \n                        : 'bg-red-100 text-red-800'\n                    }`}>\n                      {item.is_active ? 'Activo' : 'Inactivo'}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\">\n                    <button\n                      onClick={() => handleOpenModal('item', item)}\n                      className=\"text-blue-600 hover:text-blue-900\"\n                      title=\"Editar\"\n                    >\n                      <i className=\"ri-edit-line\"></i>\n                    </button>\n                    <button\n                      onClick={() => handleOpenModal('movement', { item_id: item.id, item_name: item.name })}\n                      className=\"text-green-600 hover:text-green-900\"\n                      title=\"Nuevo Movimiento\"\n                    >\n                      <i className=\"ri-arrow-up-down-line\"></i>\n                    </button>\n                    <button\n                      onClick={() => handleDelete(item.id)}\n                      className=\"text-red-600 hover:text-red-900\"\n                      title=\"Eliminar\"\n                    >\n                      <i className=\"ri-delete-bin-line\"></i>\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {filteredItems.length === 0 && (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No se encontraron productos</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderMovements = () => (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Movimientos de Inventario</h3>\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            onClick={exportToExcel}\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-file-excel-line mr-2\"></i>\n            Exportar Excel\n          </button>\n          <button\n            onClick={() => handleOpenModal('movement')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>\n            Nuevo Movimiento\n          </button>\n        </div>\n      </div>\n\n      {/* Filtros */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Buscar\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Buscar por producto o referencia...\"\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Tipo de Movimiento\n            </label>\n            <select\n              value={movementTypeFilter}\n              onChange={(e) => setMovementTypeFilter(e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8\"\n            >\n              <option value=\"\">Todos los tipos</option>\n              <option value=\"entry\">Entrada</option>\n              <option value=\"exit\">Salida</option>\n              <option value=\"transfer\">Transferencia</option>\n              <option value=\"adjustment\">Ajuste</option>\n            </select>\n          </div>\n          <div className=\"flex items-end\">\n            <button\n              onClick={() => {\n                setSearchTerm('');\n                setMovementTypeFilter('');\n              }}\n              className=\"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-refresh-line mr-2\"></i>\n              Limpiar Filtros\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tipo</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cantidad</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Costo Unitario</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Costo Total</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Referencia</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Notas</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredMovements.map((movement) => (\n                <tr key={movement.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {new Date(movement.movement_date).toLocaleDateString('es-DO')}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {movement.inventory_items?.name || 'N/A'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      movement.movement_type === 'entry' ? 'bg-green-100 text-green-800' :\n                      movement.movement_type === 'exit' ? 'bg-red-100 text-red-800' :\n                      movement.movement_type === 'transfer' ? 'bg-blue-100 text-blue-800' :\n                      'bg-yellow-100 text-yellow-800'\n                    }`}>\n                      {movement.movement_type === 'entry' ? 'Entrada' :\n                       movement.movement_type === 'exit' ? 'Salida' :\n                       movement.movement_type === 'transfer' ? 'Transferencia' :\n                       'Ajuste'}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {movement.quantity}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    ${movement.unit_cost?.toLocaleString('es-DO') || '0'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    ${movement.total_cost?.toLocaleString('es-DO') || '0'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {movement.reference || 'N/A'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {movement.notes || 'N/A'}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {filteredMovements.length === 0 && (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No se encontraron movimientos</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderWarehouses = () => (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Gestión de Almacenes</h3>\n        <button\n          onClick={() => handleOpenModal('warehouse')}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>\n          Nuevo Almacén\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {warehouses.map((warehouse) => (\n          <div key={warehouse.id} className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-building-line text-blue-600\"></i>\n              </div>\n              <div className=\"flex space-x-2\">\n                <button\n                  onClick={() => handleOpenModal('warehouse', warehouse)}\n                  className=\"text-blue-600 hover:text-blue-900\"\n                  title=\"Editar\"\n                >\n                  <i className=\"ri-edit-line\"></i>\n                </button>\n              </div>\n            </div>\n            <h4 className=\"text-lg font-semibold text-gray-900 mb-2\">{warehouse.name}</h4>\n            <p className=\"text-sm text-gray-500 mb-2\">{warehouse.location}</p>\n            <p className=\"text-xs text-gray-400 mb-4\">{warehouse.description}</p>\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-500\">Productos:</span>\n                <span className=\"font-medium\">\n                  {items.filter(item => item.warehouse_id === warehouse.id).length}\n                </span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-500\">Stock Total:</span>\n                <span className=\"font-medium\">\n                  {items\n                    .filter(item => item.warehouse_id === warehouse.id)\n                    .reduce((sum, item) => sum + (item.current_stock || 0), 0)\n                  }\n                </span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-500\">Valor Total:</span>\n                <span className=\"font-medium text-green-600\">\n                  ${items\n                    .filter(item => item.warehouse_id === warehouse.id)\n                    .reduce((sum, item) => sum + ((item.current_stock || 0) * (item.cost_price || 0)), 0)\n                    .toLocaleString('es-DO')\n                  }\n                </span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderReports = () => (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Reportes de Inventario</h3>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {/* Reporte de Stock */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center mb-4\">\n            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-file-list-3-line text-blue-600\"></i>\n            </div>\n            <h4 className=\"text-lg font-semibold text-gray-900 ml-3\">Reporte de Stock</h4>\n          </div>\n          <p className=\"text-sm text-gray-500 mb-4\">\n            Reporte detallado de todos los productos con sus niveles de stock actuales.\n          </p>\n          <button\n            onClick={exportToExcel}\n            className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-download-line mr-2\"></i>\n            Generar Reporte\n          </button>\n        </div>\n\n        {/* Reporte de Movimientos */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center mb-4\">\n            <div className=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-arrow-up-down-line text-green-600\"></i>\n            </div>\n            <h4 className=\"text-lg font-semibold text-gray-900 ml-3\">Reporte de Movimientos</h4>\n          </div>\n          <p className=\"text-sm text-gray-500 mb-4\">\n            Historial completo de todos los movimientos de inventario realizados.\n          </p>\n          <button\n            onClick={() => {\n              setActiveTab('movements');\n              exportToExcel();\n            }}\n            className=\"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-download-line mr-2\"></i>\n            Generar Reporte\n          </button>\n        </div>\n\n        {/* Reporte de Valorización */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center mb-4\">\n            <div className=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-money-dollar-circle-line text-purple-600\"></i>\n            </div>\n            <h4 className=\"text-lg font-semibold text-gray-900 ml-3\">Valorización</h4>\n          </div>\n          <p className=\"text-sm text-gray-500 mb-4\">\n            Reporte del valor total del inventario a precios de costo y venta.\n          </p>\n          <button\n            onClick={() => {\n              const valorData = [\n                ['Producto', 'Stock', 'Precio Costo', 'Precio Venta', 'Valor Costo', 'Valor Venta'],\n                ...items.map(item => [\n                  item.name,\n                  item.current_stock || 0,\n                  item.cost_price || 0,\n                  item.selling_price || 0,\n                  (item.current_stock || 0) * (item.cost_price || 0),\n                  (item.current_stock || 0) * (item.selling_price || 0)\n                ])\n              ];\n              \n              const csvContent = '\\uFEFF' + valorData.map(row => row.join(',')).join('\\n');\n              const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n              const link = document.createElement('a');\n              const url = URL.createObjectURL(blob);\n              link.setAttribute('href', url);\n              link.setAttribute('download', `valorizacion_inventario_${new Date().toISOString().split('T')[0]}.csv`);\n              link.style.visibility = 'hidden';\n              document.body.appendChild(link);\n              link.click();\n              document.body.removeChild(link);\n            }}\n            className=\"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-download-line mr-2\"></i>\n            Generar Reporte\n          </button>\n        </div>\n      </div>\n\n      {/* Estadísticas de reportes */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">Estadísticas Generales</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Productos Totales</p>\n            <p className=\"text-2xl font-bold text-blue-600\">{items.length}</p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Categorías</p>\n            <p className=\"text-2xl font-bold text-green-600\">{categories.length}</p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Movimientos del Mes</p>\n            <p className=\"text-2xl font-bold text-purple-600\">\n              {movements.filter(m => {\n                const movementDate = new Date(m.movement_date);\n                const now = new Date();\n                return movementDate.getMonth() === now.getMonth() && \n                       movementDate.getFullYear() === now.getFullYear();\n              }).length}\n            </p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium text-gray-500\">Almacenes</p>\n            <p className=\"text-2xl font-bold text-orange-600\">{warehouses.length}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderModal = () => {\n    if (!showModal) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-lg font-semibold\">\n              {selectedItem ? 'Editar' : 'Agregar'} {\n                modalType === 'item' ? 'Producto' : \n                modalType === 'movement' ? 'Movimiento' : 'Almacén'\n              }\n            </h3>\n            <button\n              onClick={handleCloseModal}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <i className=\"ri-close-line text-xl\"></i>\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {modalType === 'item' && (\n              <>\n                {/* Imagen del Producto */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Imagen del Producto\n                  </label>\n                  <div className=\"flex items-center space-x-4\">\n                    {formData.image_url && (\n                      <div className=\"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden\">\n                        <img\n                          src={formData.image_url}\n                          alt=\"Vista previa\"\n                          className=\"w-full h-full object-cover object-top\"\n                        />\n                      </div>\n                    )}\n                    <div className=\"flex-1\">\n                      <input\n                        ref={fileInputRef}\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleImageUpload}\n                        className=\"hidden\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => fileInputRef.current?.click()}\n                        className=\"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors text-center\"\n                      >\n                        <i className=\"ri-upload-cloud-line text-2xl text-gray-400 mb-2 block\"></i>\n                        <span className=\"text-sm text-gray-600\">\n                          {formData.image_url ? 'Cambiar imagen' : 'Subir imagen'}\n                        </span>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    SKU *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.sku || ''}\n                    onChange={(e) => setFormData({...formData, sku: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Nombre del Producto *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.name || ''}\n                    onChange={(e) => setFormData({...formData, name: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descripción\n                  </label>\n                  <textarea\n                    value={formData.description || ''}\n                    onChange={(e) => setFormData({...formData, description: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    rows={3}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoría\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.category || ''}\n                    onChange={(e) => setFormData({...formData, category: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Ej: Electrónicos, Ropa, Alimentos\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Unidad de Medida\n                  </label>\n                  <select\n                    value={formData.unit_of_measure || 'unit'}\n                    onChange={(e) => setFormData({...formData, unit_of_measure: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8\"\n                  >\n                    <option value=\"unit\">Unidad</option>\n                    <option value=\"kg\">Kilogramo</option>\n                    <option value=\"lb\">Libra</option>\n                    <option value=\"liter\">Litro</option>\n                    <option value=\"meter\">Metro</option>\n                    <option value=\"box\">Caja</option>\n                    <option value=\"pack\">Paquete</option>\n                  </select>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Precio Costo\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.cost_price || ''}\n                      onChange={(e) => setFormData({...formData, cost_price: parseFloat(e.target.value)})}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Precio Venta\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.selling_price || ''}\n                      onChange={(e) => setFormData({...formData, selling_price: parseFloat(e.target.value)})}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Stock Actual\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.current_stock || ''}\n                      onChange={(e) => setFormData({...formData, current_stock: parseFloat(e.target.value)})}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Stock Mínimo\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.minimum_stock || ''}\n                      onChange={(e) => setFormData({...formData, minimum_stock: parseFloat(e.target.value)})}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Stock Máximo\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.maximum_stock || ''}\n                      onChange={(e) => setFormData({...formData, maximum_stock: parseFloat(e.target.value)})}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.is_active !== false}\n                      onChange={(e) => setFormData({...formData, is_active: e.target.checked})}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-700\">Producto activo</span>\n                  </label>\n                </div>\n              </>\n            )}\n\n            {modalType === 'movement' && (\n              <>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Producto *\n                  </label>\n                  <select\n                    value={formData.item_id || ''}\n                    onChange={(e) => setFormData({...formData, item_id: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8\"\n                    required\n                  >\n                    <option value=\"\">Seleccionar producto</option>\n                    {items.map((item) => (\n                      <option key={item.id} value={item.id}>\n                        {item.name} ({item.sku})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Tipo de Movimiento *\n                  </label>\n                  <select\n                    value={formData.movement_type || ''}\n                    onChange={(e) => setFormData({...formData, movement_type: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8\"\n                    required\n                  >\n                    <option value=\"\">Seleccionar tipo</option>\n                    <option value=\"entry\">Entrada</option>\n                    <option value=\"exit\">Salida</option>\n                    <option value=\"transfer\">Transferencia</option>\n                    <option value=\"adjustment\">Ajuste</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Cantidad *\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.quantity || ''}\n                    onChange={(e) => setFormData({...formData, quantity: parseFloat(e.target.value)})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Costo Unitario\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={formData.unit_cost || ''}\n                    onChange={(e) => setFormData({...formData, unit_cost: parseFloat(e.target.value)})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Referencia\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.reference || ''}\n                    onChange={(e) => setFormData({...formData, reference: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Ej: Factura #123, Orden #456\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Notas\n                  </label>\n                  <textarea\n                    value={formData.notes || ''}\n                    onChange={(e) => setFormData({...formData, notes: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    rows={3}\n                    placeholder=\"Información adicional sobre el movimiento\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Fecha del Movimiento *\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={formData.movement_date || new Date().toISOString().split('T')[0]}\n                    onChange={(e) => setFormData({...formData, movement_date: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  />\n                </div>\n              </>\n            )}\n\n            {modalType === 'warehouse' && (\n              <>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Nombre del Almacén *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.name || ''}\n                    onChange={(e) => setFormData({...formData, name: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Ubicación\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.location || ''}\n                    onChange={(e) => setFormData({...formData, location: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Dirección o zona del almacén\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descripción\n                  </label>\n                  <textarea\n                    value={formData.description || ''}\n                    onChange={(e) => setFormData({...formData, description: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    rows={3}\n                    placeholder=\"Descripción del almacén\"\n                  />\n                </div>\n              </>\n            )}\n\n            <div className=\"flex space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={handleCloseModal}\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors whitespace-nowrap\"\n              >\n                Cancelar\n              </button>\n              <button\n                type=\"submit\"\n                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n              >\n                {selectedItem ? 'Actualizar' : 'Crear'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n        <p className=\"ml-4 text-gray-600\">Cargando módulo de inventario...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header con botón de regreso */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => navigate('/dashboard')}\n            className=\"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <i className=\"ri-arrow-left-line text-lg\"></i>\n            <span>Volver al Inicio</span>\n          </button>\n          <div className=\"h-6 w-px bg-gray-300\"></div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Gestión de Inventario</h1>\n        </div>\n      </div>\n\n      {/* Tabs Navigation */}\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {[\n            { id: 'dashboard', label: 'Dashboard', icon: 'ri-dashboard-line' },\n            { id: 'products', label: 'Productos', icon: 'ri-box-3-line' },\n            { id: 'movements', label: 'Movimientos', icon: 'ri-exchange-line' },\n            { id: 'warehouses', label: 'Almacenes', icon: 'ri-building-line' },\n            { id: 'reports', label: 'Reportes', icon: 'ri-file-chart-line' }\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${\n                activeTab === tab.id\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className={tab.icon}></i>\n              {tab.label}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"mt-6\">\n        {activeTab === 'dashboard' && renderDashboard()}\n        {activeTab === 'products' && renderItems()}\n        {activeTab === 'movements' && renderMovements()}\n        {activeTab === 'warehouses' && renderWarehouses()}\n        {activeTab === 'reports' && renderReports()}\n      </div>\n\n      {/* Modal */}\n      {renderModal()}\n    </div>\n  );\n}"],"names":["sampleItems","sampleMovements","InventoryPage","navigate","useNavigate","user","useAuth","activeTab","setActiveTab","useState","items","setItems","movements","setMovements","warehouses","setWarehouses","loading","setLoading","showModal","setShowModal","modalType","setModalType","selectedItem","setSelectedItem","formData","setFormData","fileInputRef","useRef","searchTerm","setSearchTerm","categoryFilter","setCategoryFilter","statusFilter","setStatusFilter","warehouseFilter","setWarehouseFilter","movementTypeFilter","setMovementTypeFilter","useEffect","loadData","loadWarehouses","itemsData","movementsData","inventoryService","error","handleImageUpload","event","file","imageUrl","prev","handleOpenModal","type","item","handleCloseModal","handleSubmit","e","updatedItems","newItem","selectedItemData","newMovement","handleDelete","id","exportToExcel","dataToExport","filteredItems","filteredMovements","csvContent","movement","blob","link","url","matchesSearch","matchesCategory","matchesStatus","matchesType","categories","renderDashboard","jsxs","jsx","m","sum","renderItems","category","renderMovements","renderWarehouses","warehouse","renderReports","row","movementDate","now","renderModal","Fragment","tab"],"mappings":"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"}
{"version":3,"file":"page-BSs_rMaG.js","sources":["../../src/pages/accounts-receivable/receipts/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport DashboardLayout from '../../../components/layout/DashboardLayout';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\n\ninterface Receipt {\n  id: string;\n  receiptNumber: string;\n  customerId: string;\n  customerName: string;\n  date: string;\n  amount: number;\n  paymentMethod: 'cash' | 'check' | 'transfer' | 'card';\n  reference: string;\n  concept: string;\n  status: 'active' | 'cancelled';\n  invoiceNumbers: string[];\n}\n\nexport default function ReceiptsPage() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [paymentMethodFilter, setPaymentMethodFilter] = useState('all');\n  const [showReceiptModal, setShowReceiptModal] = useState(false);\n  const [showReceiptDetails, setShowReceiptDetails] = useState(false);\n  const [selectedReceipt, setSelectedReceipt] = useState<Receipt | null>(null);\n\n  // Mock data\n  const receipts: Receipt[] = [\n    {\n      id: '1',\n      receiptNumber: 'RC-001',\n      customerId: '1',\n      customerName: 'Empresa ABC S.R.L.',\n      date: '2024-01-15',\n      amount: 75000,\n      paymentMethod: 'transfer',\n      reference: 'TRF-001',\n      concept: 'Pago de facturas FAC-001, FAC-002',\n      status: 'active',\n      invoiceNumbers: ['FAC-001', 'FAC-002']\n    },\n    {\n      id: '2',\n      receiptNumber: 'RC-002',\n      customerId: '2',\n      customerName: 'Comercial XYZ',\n      date: '2024-01-20',\n      amount: 120000,\n      paymentMethod: 'check',\n      reference: 'CHK-001',\n      concept: 'Pago factura FAC-005',\n      status: 'active',\n      invoiceNumbers: ['FAC-005']\n    },\n    {\n      id: '3',\n      receiptNumber: 'RC-003',\n      customerId: '1',\n      customerName: 'Empresa ABC S.R.L.',\n      date: '2024-01-25',\n      amount: 50000,\n      paymentMethod: 'cash',\n      reference: 'EFE-001',\n      concept: 'Pago parcial factura FAC-003',\n      status: 'active',\n      invoiceNumbers: ['FAC-003']\n    },\n    {\n      id: '4',\n      receiptNumber: 'RC-004',\n      customerId: '3',\n      customerName: 'Distribuidora DEF',\n      date: '2024-01-28',\n      amount: 85000,\n      paymentMethod: 'card',\n      reference: 'TDC-001',\n      concept: 'Pago factura FAC-006',\n      status: 'active',\n      invoiceNumbers: ['FAC-006']\n    },\n    {\n      id: '5',\n      receiptNumber: 'RC-005',\n      customerId: '2',\n      customerName: 'Comercial XYZ',\n      date: '2024-01-30',\n      amount: 45000,\n      paymentMethod: 'transfer',\n      reference: 'TRF-002',\n      concept: 'Pago anticipado',\n      status: 'cancelled',\n      invoiceNumbers: []\n    }\n  ];\n\n  const getPaymentMethodName = (method: string) => {\n    switch (method) {\n      case 'cash': return 'Efectivo';\n      case 'check': return 'Cheque';\n      case 'transfer': return 'Transferencia';\n      case 'card': return 'Tarjeta';\n      default: return 'Otro';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active': return 'bg-green-100 text-green-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusName = (status: string) => {\n    switch (status) {\n      case 'active': return 'Activo';\n      case 'cancelled': return 'Anulado';\n      default: return 'Desconocido';\n    }\n  };\n\n  const filteredReceipts = receipts.filter(receipt => {\n    const matchesSearch = receipt.customerName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         receipt.receiptNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         receipt.reference.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesStatus = statusFilter === 'all' || receipt.status === statusFilter;\n    const matchesPaymentMethod = paymentMethodFilter === 'all' || receipt.paymentMethod === paymentMethodFilter;\n    return matchesSearch && matchesStatus && matchesPaymentMethod;\n  });\n\n  const exportToPDF = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Reporte de Recibos de Cobro', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    doc.text(`Estado: ${statusFilter === 'all' ? 'Todos' : statusFilter}`, 20, 50);\n    doc.text(`Método de pago: ${paymentMethodFilter === 'all' ? 'Todos' : getPaymentMethodName(paymentMethodFilter)}`, 20, 60);\n    \n    // Estadísticas\n    const totalAmount = filteredReceipts.reduce((sum, receipt) => sum + receipt.amount, 0);\n    const activeReceipts = filteredReceipts.filter(r => r.status === 'active').length;\n    const cancelledReceipts = filteredReceipts.filter(r => r.status === 'cancelled').length;\n    \n    doc.setFontSize(14);\n    doc.text('Resumen de Recibos', 20, 80);\n    \n    const summaryData = [\n      ['Concepto', 'Valor'],\n      ['Total Recibido', `RD$ ${totalAmount.toLocaleString()}`],\n      ['Recibos Activos', activeReceipts.toString()],\n      ['Recibos Anulados', cancelledReceipts.toString()],\n      ['Total de Recibos', filteredReceipts.length.toString()]\n    ];\n    \n    (doc as any).autoTable({\n      startY: 90,\n      head: [summaryData[0]],\n      body: summaryData.slice(1),\n      theme: 'grid',\n      headStyles: { fillColor: [59, 130, 246] }\n    });\n    \n    // Tabla de recibos\n    doc.setFontSize(14);\n    doc.text('Detalle de Recibos', 20, (doc as any).lastAutoTable.finalY + 20);\n    \n    const receiptData = filteredReceipts.map(receipt => [\n      receipt.receiptNumber,\n      receipt.customerName,\n      receipt.date,\n      `RD$ ${receipt.amount.toLocaleString()}`,\n      getPaymentMethodName(receipt.paymentMethod),\n      receipt.reference,\n      getStatusName(receipt.status)\n    ]);\n    \n    (doc as any).autoTable({\n      startY: (doc as any).lastAutoTable.finalY + 30,\n      head: [['Recibo', 'Cliente', 'Fecha', 'Monto', 'Método', 'Referencia', 'Estado']],\n      body: receiptData,\n      theme: 'striped',\n      headStyles: { fillColor: [34, 197, 94] },\n      styles: { fontSize: 8 }\n    });\n    \n    doc.save(`recibos-cobro-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const exportToExcel = () => {\n    const totalAmount = filteredReceipts.reduce((sum, receipt) => sum + receipt.amount, 0);\n    const activeReceipts = filteredReceipts.filter(r => r.status === 'active').length;\n    const cancelledReceipts = filteredReceipts.filter(r => r.status === 'cancelled').length;\n    \n    const csvContent = [\n      ['Reporte de Recibos de Cobro'],\n      [`Fecha de generación: ${new Date().toLocaleDateString()}`],\n      [`Estado: ${statusFilter === 'all' ? 'Todos' : statusFilter}`],\n      [`Método de pago: ${paymentMethodFilter === 'all' ? 'Todos' : getPaymentMethodName(paymentMethodFilter)}`],\n      [''],\n      ['RESUMEN'],\n      ['Total Recibido', `RD$ ${totalAmount.toLocaleString()}`],\n      ['Recibos Activos', activeReceipts.toString()],\n      ['Recibos Anulados', cancelledReceipts.toString()],\n      ['Total de Recibos', filteredReceipts.length.toString()],\n      [''],\n      ['DETALLE DE RECIBOS'],\n      ['Recibo', 'Cliente', 'Fecha', 'Monto', 'Método', 'Referencia', 'Concepto', 'Estado'],\n      ...filteredReceipts.map(receipt => [\n        receipt.receiptNumber,\n        receipt.customerName,\n        receipt.date,\n        receipt.amount,\n        getPaymentMethodName(receipt.paymentMethod),\n        receipt.reference,\n        receipt.concept,\n        getStatusName(receipt.status)\n      ])\n    ].map(row => row.join(',')).join('\\n');\n    \n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = `recibos-cobro-${new Date().toISOString().split('T')[0]}.csv`;\n    link.click();\n  };\n\n  const handleNewReceipt = () => {\n    setSelectedReceipt(null);\n    setShowReceiptModal(true);\n  };\n\n  const handleViewReceipt = (receipt: Receipt) => {\n    setSelectedReceipt(receipt);\n    setShowReceiptDetails(true);\n  };\n\n  const handlePrintReceipt = (receipt: Receipt) => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('RECIBO DE COBRO', 20, 30);\n    \n    doc.setFontSize(12);\n    doc.text(`Recibo No: ${receipt.receiptNumber}`, 20, 50);\n    doc.text(`Fecha: ${receipt.date}`, 20, 60);\n    \n    doc.text(`Cliente: ${receipt.customerName}`, 20, 80);\n    doc.text(`Concepto: ${receipt.concept}`, 20, 90);\n    doc.text(`Método de Pago: ${getPaymentMethodName(receipt.paymentMethod)}`, 20, 100);\n    doc.text(`Referencia: ${receipt.reference}`, 20, 110);\n    \n    doc.setFontSize(16);\n    doc.text(`Monto: RD$ ${receipt.amount.toLocaleString()}`, 20, 130);\n    \n    if (receipt.invoiceNumbers.length > 0) {\n      doc.setFontSize(12);\n      doc.text('Facturas aplicadas:', 20, 150);\n      receipt.invoiceNumbers.forEach((invoice, index) => {\n        doc.text(`- ${invoice}`, 30, 160 + (index * 10));\n      });\n    }\n    \n    doc.save(`recibo-${receipt.receiptNumber}.pdf`);\n  };\n\n  const handleCancelReceipt = (receiptId: string) => {\n    if (confirm('¿Está seguro de que desea anular este recibo?')) {\n      alert('Recibo anulado exitosamente');\n    }\n  };\n\n  const handleSaveReceipt = (e: React.FormEvent) => {\n    e.preventDefault();\n    alert('Recibo creado exitosamente');\n    setShowReceiptModal(false);\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Recibos de Cobro</h1>\n            <nav className=\"flex space-x-2 text-sm text-gray-600 mt-2\">\n              <Link to=\"/accounts-receivable\" className=\"hover:text-blue-600\">Cuentas por Cobrar</Link>\n              <span>/</span>\n              <span>Recibos de Cobro</span>\n            </nav>\n          </div>\n          <button \n            onClick={handleNewReceipt}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>\n            Nuevo Recibo\n          </button>\n        </div>\n\n        {/* Summary Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Total Recibido</p>\n                <p className=\"text-2xl font-bold text-green-600\">\n                  RD${filteredReceipts.filter(r => r.status === 'active').reduce((sum, r) => sum + r.amount, 0).toLocaleString()}\n                </p>\n              </div>\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-money-dollar-circle-line text-2xl text-green-600\"></i>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Recibos Activos</p>\n                <p className=\"text-2xl font-bold text-blue-600\">\n                  {filteredReceipts.filter(r => r.status === 'active').length}\n                </p>\n              </div>\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-file-list-line text-2xl text-blue-600\"></i>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Recibos Anulados</p>\n                <p className=\"text-2xl font-bold text-red-600\">\n                  {filteredReceipts.filter(r => r.status === 'cancelled').length}\n                </p>\n              </div>\n              <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-close-circle-line text-2xl text-red-600\"></i>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Promedio por Recibo</p>\n                <p className=\"text-2xl font-bold text-purple-600\">\n                  RD${filteredReceipts.length > 0 ? Math.round(filteredReceipts.reduce((sum, r) => sum + r.amount, 0) / filteredReceipts.length).toLocaleString() : '0'}\n                </p>\n              </div>\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-bar-chart-line text-2xl text-purple-600\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Export */}\n        <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <i className=\"ri-search-line text-gray-400\"></i>\n              </div>\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                placeholder=\"Buscar por cliente, número de recibo o referencia...\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"w-full md:w-48\">\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8\"\n            >\n              <option value=\"all\">Todos los Estados</option>\n              <option value=\"active\">Activos</option>\n              <option value=\"cancelled\">Anulados</option>\n            </select>\n          </div>\n\n          <div className=\"w-full md:w-48\">\n            <select\n              value={paymentMethodFilter}\n              onChange={(e) => setPaymentMethodFilter(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8\"\n            >\n              <option value=\"all\">Todos los Métodos</option>\n              <option value=\"cash\">Efectivo</option>\n              <option value=\"check\">Cheque</option>\n              <option value=\"transfer\">Transferencia</option>\n              <option value=\"card\">Tarjeta</option>\n            </select>\n          </div>\n          \n          <div className=\"flex space-x-2\">\n            <button\n              onClick={exportToPDF}\n              className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>PDF\n            </button>\n            <button\n              onClick={exportToExcel}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-excel-line mr-2\"></i>Excel\n            </button>\n          </div>\n        </div>\n\n        {/* Receipts Table */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Recibo\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Cliente\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Fecha\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Monto\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Método\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Referencia\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Estado\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Acciones\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredReceipts.map((receipt) => (\n                  <tr key={receipt.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      {receipt.receiptNumber}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {receipt.customerName}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {receipt.date}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      RD${receipt.amount.toLocaleString()}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {getPaymentMethodName(receipt.paymentMethod)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {receipt.reference}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(receipt.status)}`}>\n                        {getStatusName(receipt.status)}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => handleViewReceipt(receipt)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"Ver detalles\"\n                        >\n                          <i className=\"ri-eye-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handlePrintReceipt(receipt)}\n                          className=\"text-purple-600 hover:text-purple-900\"\n                          title=\"Imprimir recibo\"\n                        >\n                          <i className=\"ri-printer-line\"></i>\n                        </button>\n                        {receipt.status === 'active' && (\n                          <button\n                            onClick={() => handleCancelReceipt(receipt.id)}\n                            className=\"text-red-600 hover:text-red-900\"\n                            title=\"Anular recibo\"\n                          >\n                            <i className=\"ri-close-circle-line\"></i>\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* New Receipt Modal */}\n        {showReceiptModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-semibold\">Nuevo Recibo de Cobro</h3>\n                <button\n                  onClick={() => setShowReceiptModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n              \n              <form onSubmit={handleSaveReceipt} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Cliente\n                    </label>\n                    <select \n                      required\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                    >\n                      <option value=\"\">Seleccionar cliente</option>\n                      <option value=\"1\">Empresa ABC S.R.L.</option>\n                      <option value=\"2\">Comercial XYZ</option>\n                      <option value=\"3\">Distribuidora DEF</option>\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Fecha\n                    </label>\n                    <input\n                      type=\"date\"\n                      required\n                      defaultValue={new Date().toISOString().split('T')[0]}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Monto\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      required\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"0.00\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Método de Pago\n                    </label>\n                    <select \n                      required\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                    >\n                      <option value=\"cash\">Efectivo</option>\n                      <option value=\"check\">Cheque</option>\n                      <option value=\"transfer\">Transferencia</option>\n                      <option value=\"card\">Tarjeta</option>\n                    </select>\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Referencia\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Número de referencia\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Concepto\n                  </label>\n                  <textarea\n                    rows={3}\n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Descripción del pago recibido...\"\n                  />\n                </div>\n                \n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowReceiptModal(false)}\n                    className=\"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors whitespace-nowrap\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n                  >\n                    Crear Recibo\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Receipt Details Modal */}\n        {showReceiptDetails && selectedReceipt && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h3 className=\"text-lg font-semibold\">Detalles del Recibo</h3>\n                <button\n                  onClick={() => {\n                    setShowReceiptDetails(false);\n                    setSelectedReceipt(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Número de Recibo</label>\n                    <p className=\"text-lg font-semibold text-gray-900\">{selectedReceipt.receiptNumber}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Cliente</label>\n                    <p className=\"text-gray-900\">{selectedReceipt.customerName}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Fecha</label>\n                    <p className=\"text-gray-900\">{selectedReceipt.date}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Monto</label>\n                    <p className=\"text-2xl font-bold text-green-600\">RD${selectedReceipt.amount.toLocaleString()}</p>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Método de Pago</label>\n                    <p className=\"text-gray-900\">{getPaymentMethodName(selectedReceipt.paymentMethod)}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Referencia</label>\n                    <p className=\"text-gray-900\">{selectedReceipt.reference}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">Estado</label>\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(selectedReceipt.status)}`}>\n                      {getStatusName(selectedReceipt.status)}\n                    </span>\n                  </div>\n                  \n                  {selectedReceipt.invoiceNumbers.length > 0 && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-500\">Facturas Aplicadas</label>\n                      <div className=\"flex flex-wrap gap-2 mt-1\">\n                        {selectedReceipt.invoiceNumbers.map((invoice, index) => (\n                          <span key={index} className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm\">\n                            {invoice}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"mt-6\">\n                <label className=\"block text-sm font-medium text-gray-500\">Concepto</label>\n                <p className=\"text-gray-900 mt-1\">{selectedReceipt.concept}</p>\n              </div>\n              \n              <div className=\"flex space-x-3 mt-6\">\n                <button\n                  onClick={() => handlePrintReceipt(selectedReceipt)}\n                  className=\"flex-1 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors whitespace-nowrap\"\n                >\n                  <i className=\"ri-printer-line mr-2\"></i>\n                  Imprimir Recibo\n                </button>\n                {selectedReceipt.status === 'active' && (\n                  <button\n                    onClick={() => handleCancelReceipt(selectedReceipt.id)}\n                    className=\"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n                  >\n                    <i className=\"ri-close-circle-line mr-2\"></i>\n                    Anular Recibo\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}"],"names":["ReceiptsPage","searchTerm","setSearchTerm","useState","statusFilter","setStatusFilter","paymentMethodFilter","setPaymentMethodFilter","showReceiptModal","setShowReceiptModal","showReceiptDetails","setShowReceiptDetails","selectedReceipt","setSelectedReceipt","receipts","getPaymentMethodName","method","getStatusColor","status","getStatusName","filteredReceipts","receipt","matchesSearch","matchesStatus","matchesPaymentMethod","exportToPDF","doc","jsPDF","totalAmount","sum","activeReceipts","r","cancelledReceipts","summaryData","receiptData","exportToExcel","csvContent","row","blob","link","handleNewReceipt","handleViewReceipt","handlePrintReceipt","invoice","index","handleCancelReceipt","receiptId","handleSaveReceipt","e","jsx","DashboardLayout","jsxs","Link"],"mappings":"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"}
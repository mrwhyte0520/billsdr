import{r as n,j as e,D as j}from"./index-CIddALDL.js";function v(){const[m,x]=n.useState([{id:"banco_popular",name:"Banco Popular Dominicano",description:"Sincronización automática de transacciones bancarias",icon:"ri-bank-line",status:"disconnected"},{id:"banco_bhd",name:"Banco BHD León",description:"Importar estados de cuenta y movimientos",icon:"ri-bank-line",status:"disconnected"},{id:"dgii",name:"DGII - Dirección General de Impuestos Internos",description:"Envío automático de declaraciones fiscales",icon:"ri-government-line",status:"disconnected"},{id:"tss",name:"TSS - Tesorería de la Seguridad Social",description:"Declaraciones de nómina y seguridad social",icon:"ri-shield-check-line",status:"disconnected"},{id:"quickbooks",name:"QuickBooks",description:"Importar/exportar datos contables",icon:"ri-file-chart-line",status:"disconnected"},{id:"excel",name:"Microsoft Excel",description:"Exportar reportes a hojas de cálculo",icon:"ri-file-excel-line",status:"connected",lastSync:"2024-01-15 10:30:00"}]),[b,c]=n.useState(!1),[l,u]=n.useState(null),[d,i]=n.useState(!1),[o,a]=n.useState(null),g=async s=>{u(s),c(!0)},f=async s=>{i(!0),a(null);try{await new Promise(t=>setTimeout(t,1e3)),x(t=>t.map(r=>r.id===s?{...r,status:"disconnected",lastSync:void 0}:r)),a({type:"success",text:"Integración desconectada exitosamente"})}catch{a({type:"error",text:"Error al desconectar la integración"})}finally{i(!1)}},h=async s=>{if(s.preventDefault(),!!l){i(!0),a(null);try{await new Promise(t=>setTimeout(t,2e3)),x(t=>t.map(r=>r.id===l.id?{...r,status:"connected",lastSync:new Date().toISOString()}:r)),a({type:"success",text:"Integración conectada exitosamente"}),c(!1),u(null)}catch{a({type:"error",text:"Error al conectar la integración"})}finally{i(!1)}}},p=s=>{switch(s){case"connected":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=s=>{switch(s){case"connected":return"Conectado";case"error":return"Error";default:return"Desconectado"}};return e.jsxs(j,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integraciones"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Configura conexiones con bancos, APIs y servicios externos"})]}),e.jsxs("button",{onClick:()=>window.REACT_APP_NAVIGATE("/settings"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[e.jsx("i",{className:"ri-arrow-left-line"}),e.jsx("span",{children:"Volver a Configuración"})]})]})}),o&&e.jsx("div",{className:`p-4 rounded-lg ${o.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:o.text}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:`${s.icon} text-blue-600 text-lg`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(s.status)}`,children:y(s.status)})]})]})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),s.lastSync&&e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Última sincronización: ",new Date(s.lastSync).toLocaleString()]}),e.jsx("div",{className:"flex space-x-2",children:s.status==="connected"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(s.id),disabled:d,className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 text-sm",children:"Desconectar"}),e.jsx("button",{className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Sincronizar"})]}):e.jsx("button",{onClick:()=>g(s),className:"w-full bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 text-sm",children:"Conectar"})})]},s.id))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración de API"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Base de API"}),e.jsx("input",{type:"url",placeholder:"https://api.contabi.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clave de API"}),e.jsx("input",{type:"password",placeholder:"••••••••••••••••",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Guardar Configuración"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Webhooks"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notificaciones de Facturación"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Recibir notificaciones cuando se creen nuevas facturas"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Alertas de Inventario"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notificar cuando el stock esté bajo"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),b&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Conectar ",l.name]}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario/ID de Cliente"}),e.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña/Clave de API"}),e.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"save_credentials",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"save_credentials",className:"ml-2 block text-sm text-gray-900",children:"Guardar credenciales de forma segura"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Conectando...":"Conectar"})]})]})]})})]})}export{v as default};
//# sourceMappingURL=page-BxxsZnHw.js.map

{"version":3,"file":"page--xM7lakR.js","sources":["../../src/pages/accounts-receivable/payments/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport DashboardLayout from '../../../components/layout/DashboardLayout';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\n\ninterface Payment {\n  id: string;\n  customerId: string;\n  customerName: string;\n  invoiceId: string;\n  invoiceNumber: string;\n  amount: number;\n  paymentMethod: 'cash' | 'check' | 'transfer' | 'card';\n  date: string;\n  reference: string;\n}\n\nexport default function PaymentsPage() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [methodFilter, setMethodFilter] = useState('all');\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [selectedPayment, setSelectedPayment] = useState<Payment | null>(null);\n\n  // Mock data\n  const payments: Payment[] = [\n    {\n      id: '1',\n      customerId: '1',\n      customerName: 'Empresa ABC S.R.L.',\n      invoiceId: '1',\n      invoiceNumber: 'FAC-001',\n      amount: 50000,\n      paymentMethod: 'transfer',\n      date: '2024-01-15',\n      reference: 'TRF-001'\n    },\n    {\n      id: '2',\n      customerId: '2',\n      customerName: 'Comercial XYZ',\n      invoiceId: '5',\n      invoiceNumber: 'FAC-005',\n      amount: 120000,\n      paymentMethod: 'check',\n      date: '2024-01-20',\n      reference: 'CHK-001'\n    },\n    {\n      id: '3',\n      customerId: '1',\n      customerName: 'Empresa ABC S.R.L.',\n      invoiceId: '1',\n      invoiceNumber: 'FAC-001',\n      amount: 25000,\n      paymentMethod: 'cash',\n      date: '2024-01-25',\n      reference: 'EFE-001'\n    },\n    {\n      id: '4',\n      customerId: '3',\n      customerName: 'Distribuidora DEF',\n      invoiceId: '4',\n      invoiceNumber: 'FAC-004',\n      amount: 45000,\n      paymentMethod: 'card',\n      date: '2024-01-28',\n      reference: 'TAR-001'\n    },\n    {\n      id: '5',\n      customerId: '2',\n      customerName: 'Comercial XYZ',\n      invoiceId: '3',\n      invoiceNumber: 'FAC-003',\n      amount: 85000,\n      paymentMethod: 'transfer',\n      date: '2024-01-30',\n      reference: 'TRF-002'\n    }\n  ];\n\n  const invoices = [\n    { id: '1', invoiceNumber: 'FAC-001', customerName: 'Empresa ABC S.R.L.', balance: 25000 },\n    { id: '2', invoiceNumber: 'FAC-002', customerName: 'Empresa ABC S.R.L.', balance: 75000 },\n    { id: '3', invoiceNumber: 'FAC-003', customerName: 'Comercial XYZ', balance: 0 },\n    { id: '4', invoiceNumber: 'FAC-004', customerName: 'Distribuidora DEF', balance: 0 }\n  ];\n\n  const getPaymentMethodName = (method: string) => {\n    switch (method) {\n      case 'cash': return 'Efectivo';\n      case 'check': return 'Cheque';\n      case 'transfer': return 'Transferencia';\n      case 'card': return 'Tarjeta';\n      default: return 'Otro';\n    }\n  };\n\n  const getPaymentMethodColor = (method: string) => {\n    switch (method) {\n      case 'cash': return 'bg-green-100 text-green-800';\n      case 'check': return 'bg-blue-100 text-blue-800';\n      case 'transfer': return 'bg-purple-100 text-purple-800';\n      case 'card': return 'bg-orange-100 text-orange-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const filteredPayments = payments.filter(payment => {\n    const matchesSearch = payment.customerName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         payment.invoiceNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         payment.reference.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesMethod = methodFilter === 'all' || payment.paymentMethod === methodFilter;\n    return matchesSearch && matchesMethod;\n  });\n\n  const exportToPDF = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Reporte de Pagos Recibidos', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    \n    const totalPayments = filteredPayments.reduce((sum, p) => sum + p.amount, 0);\n    const paymentsByMethod = filteredPayments.reduce((acc, payment) => {\n      acc[payment.paymentMethod] = (acc[payment.paymentMethod] || 0) + payment.amount;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    doc.setFontSize(14);\n    doc.text('Resumen de Pagos', 20, 60);\n    \n    const summaryData = [\n      ['Concepto', 'Monto'],\n      ['Total Recibido', `RD$ ${totalPayments.toLocaleString()}`],\n      ['Número de Pagos', filteredPayments.length.toString()],\n      ['Efectivo', `RD$ ${(paymentsByMethod.cash || 0).toLocaleString()}`],\n      ['Transferencias', `RD$ ${(paymentsByMethod.transfer || 0).toLocaleString()}`],\n      ['Cheques', `RD$ ${(paymentsByMethod.check || 0).toLocaleString()}`],\n      ['Tarjetas', `RD$ ${(paymentsByMethod.card || 0).toLocaleString()}`]\n    ];\n    \n    (doc as any).autoTable({\n      startY: 70,\n      head: [summaryData[0]],\n      body: summaryData.slice(1),\n      theme: 'grid',\n      headStyles: { fillColor: [34, 197, 94] }\n    });\n    \n    doc.setFontSize(14);\n    doc.text('Detalle de Pagos', 20, (doc as any).lastAutoTable.finalY + 20);\n    \n    const paymentData = filteredPayments.map(payment => [\n      payment.date,\n      payment.customerName,\n      payment.invoiceNumber,\n      `RD$ ${payment.amount.toLocaleString()}`,\n      getPaymentMethodName(payment.paymentMethod),\n      payment.reference\n    ]);\n    \n    (doc as any).autoTable({\n      startY: (doc as any).lastAutoTable.finalY + 30,\n      head: [['Fecha', 'Cliente', 'Factura', 'Monto', 'Método', 'Referencia']],\n      body: paymentData,\n      theme: 'striped',\n      headStyles: { fillColor: [16, 185, 129] },\n      styles: { fontSize: 9 }\n    });\n    \n    doc.save(`pagos-recibidos-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const exportToExcel = () => {\n    const totalPayments = filteredPayments.reduce((sum, p) => sum + p.amount, 0);\n    const paymentsByMethod = filteredPayments.reduce((acc, payment) => {\n      acc[payment.paymentMethod] = (acc[payment.paymentMethod] || 0) + payment.amount;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    const csvContent = [\n      ['Reporte de Pagos Recibidos'],\n      [`Fecha de generación: ${new Date().toLocaleDateString()}`],\n      [''],\n      ['RESUMEN DE PAGOS'],\n      ['Total Recibido', `RD$ ${totalPayments.toLocaleString()}`],\n      ['Número de Pagos', filteredPayments.length.toString()],\n      ['Efectivo', `RD$ ${(paymentsByMethod.cash || 0).toLocaleString()}`],\n      ['Transferencias', `RD$ ${(paymentsByMethod.transfer || 0).toLocaleString()}`],\n      ['Cheques', `RD$ ${(paymentsByMethod.check || 0).toLocaleString()}`],\n      ['Tarjetas', `RD$ ${(paymentsByMethod.card || 0).toLocaleString()}`],\n      [''],\n      ['DETALLE DE PAGOS'],\n      ['Fecha', 'Cliente', 'Factura', 'Monto', 'Método', 'Referencia'],\n      ...filteredPayments.map(payment => [\n        payment.date,\n        payment.customerName,\n        payment.invoiceNumber,\n        payment.amount,\n        getPaymentMethodName(payment.paymentMethod),\n        payment.reference\n      ])\n    ].map(row => row.join(',')).join('\\n');\n    \n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = `pagos-recibidos-${new Date().toISOString().split('T')[0]}.csv`;\n    link.click();\n  };\n\n  const handleNewPayment = () => {\n    setSelectedPayment(null);\n    setShowPaymentModal(true);\n  };\n\n  const handleViewPayment = (paymentId: string) => {\n    const payment = payments.find(pay => pay.id === paymentId);\n    if (payment) {\n      alert(`Detalles del pago:\\n\\nCliente: ${payment.customerName}\\nFactura: ${payment.invoiceNumber}\\nMonto: RD$ ${payment.amount.toLocaleString()}\\nMétodo: ${getPaymentMethodName(payment.paymentMethod)}\\nReferencia: ${payment.reference}`);\n    }\n  };\n\n  const handlePrintPayment = (paymentId: string) => {\n    const payment = payments.find(pay => pay.id === paymentId);\n    if (payment) {\n      alert(`Imprimiendo recibo de pago ${payment.reference}...`);\n    }\n  };\n\n  const handleSavePayment = (e: React.FormEvent) => {\n    e.preventDefault();\n    alert('Pago registrado exitosamente');\n    setShowPaymentModal(false);\n    setSelectedPayment(null);\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Pagos Recibidos</h1>\n          <button \n            onClick={handleNewPayment}\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n          >\n            <i className=\"ri-money-dollar-circle-line mr-2\"></i>\n            Registrar Pago\n          </button>\n        </div>\n\n        {/* Filters and Export */}\n        <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <i className=\"ri-search-line text-gray-400\"></i>\n              </div>\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                placeholder=\"Buscar por cliente, factura o referencia...\"\n              />\n            </div>\n          </div>\n          <div className=\"w-full md:w-48\">\n            <select\n              value={methodFilter}\n              onChange={(e) => setMethodFilter(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8\"\n            >\n              <option value=\"all\">Todos los Métodos</option>\n              <option value=\"cash\">Efectivo</option>\n              <option value=\"check\">Cheque</option>\n              <option value=\"transfer\">Transferencia</option>\n              <option value=\"card\">Tarjeta</option>\n            </select>\n          </div>\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={exportToPDF}\n              className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>PDF\n            </button>\n            <button\n              onClick={exportToExcel}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-excel-line mr-2\"></i>Excel\n            </button>\n          </div>\n        </div>\n\n        {/* Payments Table */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Fecha\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Cliente\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Factura\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Monto\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Método\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Referencia\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Acciones\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredPayments.map((payment) => (\n                  <tr key={payment.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {payment.date}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {payment.customerName}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {payment.invoiceNumber}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      RD${payment.amount.toLocaleString()}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getPaymentMethodColor(payment.paymentMethod)}`}>\n                        {getPaymentMethodName(payment.paymentMethod)}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {payment.reference}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button \n                          onClick={() => handleViewPayment(payment.id)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"Ver detalles\"\n                        >\n                          <i className=\"ri-eye-line\"></i>\n                        </button>\n                        <button \n                          onClick={() => handlePrintPayment(payment.id)}\n                          className=\"text-purple-600 hover:text-purple-900\"\n                          title=\"Imprimir recibo\"\n                        >\n                          <i className=\"ri-printer-line\"></i>\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Payment Modal */}\n        {showPaymentModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-96\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-semibold\">Registrar Pago</h3>\n                <button\n                  onClick={() => {\n                    setShowPaymentModal(false);\n                    setSelectedPayment(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <i className=\"ri-close-line\"></i>\n                </button>\n              </div>\n              \n              <form onSubmit={handleSavePayment} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Factura\n                  </label>\n                  <select \n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                  >\n                    <option value=\"\">Seleccionar factura</option>\n                    {invoices.filter(inv => inv.balance > 0).map((invoice) => (\n                      <option key={invoice.id} value={invoice.id}>\n                        {invoice.invoiceNumber} - {invoice.customerName} (RD${invoice.balance.toLocaleString()})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Monto a Pagar\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"0.00\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Método de Pago\n                  </label>\n                  <select \n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8\"\n                  >\n                    <option value=\"cash\">Efectivo</option>\n                    <option value=\"check\">Cheque</option>\n                    <option value=\"transfer\">Transferencia</option>\n                    <option value=\"card\">Tarjeta</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Referencia\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Número de referencia\"\n                  />\n                </div>\n                \n                <div className=\"flex space-x-3 mt-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowPaymentModal(false);\n                      setSelectedPayment(null);\n                    }}\n                    className=\"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors whitespace-nowrap\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n                  >\n                    Registrar Pago\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}"],"names":["PaymentsPage","searchTerm","setSearchTerm","useState","methodFilter","setMethodFilter","showPaymentModal","setShowPaymentModal","selectedPayment","setSelectedPayment","payments","invoices","getPaymentMethodName","method","getPaymentMethodColor","filteredPayments","payment","matchesSearch","matchesMethod","exportToPDF","doc","jsPDF","totalPayments","sum","p","paymentsByMethod","acc","summaryData","paymentData","exportToExcel","csvContent","row","blob","link","handleNewPayment","handleViewPayment","paymentId","pay","handlePrintPayment","handleSavePayment","e","jsx","DashboardLayout","jsxs","inv","invoice"],"mappings":"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"}
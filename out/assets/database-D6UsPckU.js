import{s as o}from"./index-CIddALDL.js";const a=(t,r=[])=>(console.warn("Database operation failed:",t?.message??t),r),c={async getItems(t){try{const{data:r,error:e}=await o.from("inventory_items").select("*").eq("user_id",t).order("name");return e?a(e,[]):r??[]}catch(r){return a(r,[])}},async createItem(t,r){try{const{data:e,error:n}=await o.from("inventory_items").insert({...r,user_id:t}).select().single();if(n)throw n;return e}catch(e){throw e}},async updateItem(t,r){try{const{data:e,error:n}=await o.from("inventory_items").update(r).eq("id",t).select().single();if(n)throw n;return e}catch(e){throw e}},async deleteItem(t){try{const{error:r}=await o.from("inventory_items").delete().eq("id",t);if(r)throw r}catch(r){throw r}},async getMovements(t){try{const{data:r,error:e}=await o.from("inventory_movements").select(`
          *,
          inventory_items (name, sku)
        `).eq("user_id",t).order("movement_date",{ascending:!1});return e?a(e,[]):r??[]}catch(r){return a(r,[])}},async createMovement(t,r){try{const{data:e,error:n}=await o.from("inventory_movements").insert({...r,user_id:t}).select().single();if(n)throw n;return e}catch(e){throw e}}},i={async getCompanyInfo(){try{const{data:t,error:r}=await o.from("company_info").select("*").single();if(r&&r.code!=="PGRST116")throw r;return t??null}catch(t){return console.error("Error getting company info:",t),null}},async saveCompanyInfo(t){try{const{data:r,error:e}=await o.from("company_info").upsert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error saving company info:",r),r}},async getUsers(){try{const{data:t,error:r}=await o.from("users").select("*").order("created_at",{ascending:!1});if(r)throw r;return t??[]}catch(t){return console.error("Error getting users:",t),[]}},async createUser(t){try{const{data:r,error:e}=await o.from("users").insert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error creating user:",r),r}},async updateUserStatus(t,r){try{const{data:e,error:n}=await o.from("users").update({status:r}).eq("id",t).select().single();if(n)throw n;return e}catch(e){throw console.error("Error updating user status:",e),e}},async getAccountingSettings(){try{const{data:t,error:r}=await o.from("accounting_settings").select("*").single();if(r&&r.code!=="PGRST116")throw r;return t??null}catch(t){return console.error("Error getting accounting settings:",t),null}},async saveAccountingSettings(t){try{const{data:r,error:e}=await o.from("accounting_settings").upsert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error saving accounting settings:",r),r}},async getTaxSettings(){try{const{data:t,error:r}=await o.from("tax_settings").select("*").single();if(r&&r.code!=="PGRST116")throw r;return t??null}catch(t){return console.error("Error getting tax settings:",t),null}},async saveTaxSettings(t){try{const{data:r,error:e}=await o.from("tax_settings").upsert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error saving tax settings:",r),r}},async getTaxRates(){try{const{data:t,error:r}=await o.from("tax_rates").select("*").order("name");if(r)throw r;return t??[]}catch(t){return console.error("Error getting tax rates:",t),[]}},async createTaxRate(t){try{const{data:r,error:e}=await o.from("tax_rates").insert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error creating tax rate:",r),r}},async getInventorySettings(){try{const{data:t,error:r}=await o.from("inventory_settings").select("*").single();if(r&&r.code!=="PGRST116")throw r;return t??null}catch(t){return console.error("Error getting inventory settings:",t),null}},async saveInventorySettings(t){try{const{data:r,error:e}=await o.from("inventory_settings").upsert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error saving inventory settings:",r),r}},async getWarehouses(){try{const{data:t,error:r}=await o.from("warehouses").select("*").order("name");if(r)throw r;return t??[]}catch(t){return console.error("Error getting warehouses:",t),[]}},async createWarehouse(t){try{const{data:r,error:e}=await o.from("warehouses").insert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error creating warehouse:",r),r}},async getPayrollSettings(){try{const{data:t,error:r}=await o.from("payroll_settings").select("*").single();if(r&&r.code!=="PGRST116")throw r;return t??null}catch(t){return console.error("Error getting payroll settings:",t),null}},async savePayrollSettings(t){try{const{data:r,error:e}=await o.from("payroll_settings").upsert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error saving payroll settings:",r),r}},async getPayrollConcepts(){try{const{data:t,error:r}=await o.from("payroll_concepts").select("*").order("name");if(r)throw r;return t??[]}catch(t){return console.error("Error getting payroll concepts:",t),[]}},async createPayrollConcept(t){try{const{data:r,error:e}=await o.from("payroll_concepts").insert(t).select().single();if(e)throw e;return r}catch(r){throw console.error("Error creating payroll concept:",r),r}}};export{c as i,i as s};
//# sourceMappingURL=database-D6UsPckU.js.map

import{r as d,j as e,D as L}from"./index-CIddALDL.js";function z(){const[w,j]=d.useState(!1),[i,f]=d.useState(null),[x,v]=d.useState("all"),[m,N]=d.useState("all"),[l,u]=d.useState([{id:1,date:"2024-01-15",supplier:"Proveedor Industrial SA",reference:"PAY-2024-001",invoice:"INV-001234",method:"Transferencia",amount:125e3,status:"Completado",description:"Pago de factura por materiales industriales",bankAccount:"Banco Popular - 1234567890"},{id:2,date:"2024-01-14",supplier:"Distribuidora Nacional SRL",reference:"PAY-2024-002",invoice:"INV-001235",method:"Cheque",amount:85e3,status:"Pendiente",description:"Pago de productos de distribución",bankAccount:"Banco BHD - 0987654321"},{id:3,date:"2024-01-13",supplier:"Servicios Técnicos EIRL",reference:"PAY-2024-003",invoice:"INV-001236",method:"Efectivo",amount:45e3,status:"Completado",description:"Servicios técnicos especializados",bankAccount:"Caja General"},{id:4,date:"2024-01-12",supplier:"Materiales Construcción SA",reference:"PAY-2024-004",invoice:"INV-001237",method:"Transferencia",amount:195e3,status:"Rechazado",description:"Materiales de construcción premium",bankAccount:"Banco Reservas - 5555666677"}]),[a,n]=d.useState({supplier:"",invoice:"",method:"Transferencia",amount:"",description:"",bankAccount:"",date:new Date().toISOString().split("T")[0]}),P=["Proveedor Industrial SA","Distribuidora Nacional SRL","Servicios Técnicos EIRL","Materiales Construcción SA"],h=["Transferencia","Cheque","Efectivo","Tarjeta de Crédito"],C=["Banco Popular - 1234567890","Banco BHD - 0987654321","Banco Reservas - 5555666677","Caja General"],g=l.filter(t=>{const r=x==="all"||t.status===x,p=m==="all"||t.method===m;return r&&p}),k=t=>{t.preventDefault();const r={id:l.length+1,date:a.date,supplier:a.supplier,reference:`PAY-2024-${String(l.length+1).padStart(3,"0")}`,invoice:a.invoice,method:a.method,amount:parseFloat(a.amount),status:"Pendiente",description:a.description,bankAccount:a.bankAccount};u([...l,r]),y(),alert("Pago registrado exitosamente")},y=()=>{n({supplier:"",invoice:"",method:"Transferencia",amount:"",description:"",bankAccount:"",date:new Date().toISOString().split("T")[0]}),j(!1)},S=t=>{confirm("¿Confirmar este pago?")&&(u(l.map(r=>r.id===t?{...r,status:"Completado"}:r)),alert("Pago aprobado exitosamente"))},R=t=>{confirm("¿Rechazar este pago?")&&(u(l.map(r=>r.id===t?{...r,status:"Rechazado"}:r)),alert("Pago rechazado"))},D=t=>{f(t)},A=()=>{const t=[["Reporte de Pagos a Proveedores"],["Fecha de Generación:",new Date().toLocaleDateString()],[""],["Estadísticas Generales:"],["Total Pagado:",`RD$ ${l.filter(s=>s.status==="Completado").reduce((s,o)=>s+o.amount,0).toLocaleString()}`],["Pagos Pendientes:",`RD$ ${l.filter(s=>s.status==="Pendiente").reduce((s,o)=>s+o.amount,0).toLocaleString()}`],["Total Pagos Completados:",l.filter(s=>s.status==="Completado").length],["Total Pagos Rechazados:",l.filter(s=>s.status==="Rechazado").length],[""],["Detalle de Pagos:"],["Fecha","Proveedor","Referencia","Factura","Método","Monto","Estado","Descripción","Cuenta Bancaria"]];g.forEach(s=>{t.push([s.date,s.supplier,s.reference,s.invoice,s.method,`RD$ ${s.amount.toLocaleString()}`,s.status,s.description,s.bankAccount])}),t.push([""]),t.push(["Resumen por Método de Pago:"]),t.push(["Método","Cantidad","Monto Total"]),h.forEach(s=>{const o=g.filter(b=>b.method===s),E=o.reduce((b,$)=>b+$.amount,0);o.length>0&&t.push([s,o.length,`RD$ ${E.toLocaleString()}`])});const r=t.map(s=>s.map(o=>`"${o}"`).join(",")).join(`
`),p=new Blob([r],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),T=URL.createObjectURL(p);c.setAttribute("href",T),c.setAttribute("download",`pagos_proveedores_${new Date().toISOString().split("T")[0]}.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},M=t=>{alert(`Imprimiendo comprobante de pago: ${t.reference}`)};return e.jsx(L,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Procesamiento de Pagos"}),e.jsx("p",{className:"text-gray-600",children:"Gestiona pagos a proveedores"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:A,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-excel-line mr-2"}),"Exportar Excel"]}),e.jsxs("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Nuevo Pago"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pagado"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RD$ ",l.filter(t=>t.status==="Completado").reduce((t,r)=>t+r.amount,0).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-time-line text-xl text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["RD$ ",l.filter(t=>t.status==="Pendiente").reduce((t,r)=>t+r.amount,0).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-check-line text-xl text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pagos Completados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.filter(t=>t.status==="Completado").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-close-line text-xl text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rechazados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.filter(t=>t.status==="Rechazado").length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs("select",{value:x,onChange:t=>v(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Todos los Estados"}),e.jsx("option",{value:"Completado",children:"Completado"}),e.jsx("option",{value:"Pendiente",children:"Pendiente"}),e.jsx("option",{value:"Rechazado",children:"Rechazado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pago"}),e.jsxs("select",{value:m,onChange:t=>N(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Todos los Métodos"}),h.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{v("all"),N("all")},className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap",children:"Limpiar Filtros"})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lista de Pagos"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referencia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.supplier}),e.jsx("div",{className:"text-sm text-gray-500",children:t.invoice})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.reference}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${t.method==="Transferencia"?"bg-blue-100 text-blue-800":t.method==="Cheque"?"bg-green-100 text-green-800":t.method==="Efectivo"?"bg-orange-100 text-orange-800":"bg-purple-100 text-purple-800"}`,children:t.method})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:["RD$ ",t.amount.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${t.status==="Completado"?"bg-green-100 text-green-800":t.status==="Pendiente"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>D(t),className:"text-blue-600 hover:text-blue-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>M(t),className:"text-gray-600 hover:text-gray-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-printer-line"})}),t.status==="Pendiente"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>S(t.id),className:"text-green-600 hover:text-green-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>R(t.id),className:"text-red-600 hover:text-red-900 whitespace-nowrap",children:e.jsx("i",{className:"ri-close-line"})})]})]})})]},t.id))})]})})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nuevo Pago"})}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proveedor *"}),e.jsxs("select",{required:!0,value:a.supplier,onChange:t=>n({...a,supplier:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar proveedor"}),P.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Factura"}),e.jsx("input",{type:"text",value:a.invoice,onChange:t=>n({...a,invoice:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"INV-001234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pago *"}),e.jsx("select",{required:!0,value:a.method,onChange:t=>n({...a,method:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto *"}),e.jsx("input",{type:"number",required:!0,step:"0.01",value:a.amount,onChange:t=>n({...a,amount:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cuenta Bancaria"}),e.jsxs("select",{value:a.bankAccount,onChange:t=>n({...a,bankAccount:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar cuenta"}),C.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha *"}),e.jsx("input",{type:"date",required:!0,value:a.date,onChange:t=>n({...a,date:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),e.jsx("textarea",{value:a.description,onChange:t=>n({...a,description:t.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción del pago..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"Registrar Pago"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalles del Pago"}),e.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Referencia"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.reference})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fecha"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.date})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Proveedor"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Factura"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.invoice})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Método"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monto"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["RD$ ",i.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estado"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${i.status==="Completado"?"bg-green-100 text-green-800":i.status==="Pendiente"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:i.status})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cuenta Bancaria"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.bankAccount})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Descripción"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.description})]})]})})]})})]})})}export{z as default};
//# sourceMappingURL=page-aHDjGKDk.js.map

import{r as t,j as e,D as b}from"./index-CIddALDL.js";import{s as u}from"./database-D6UsPckU.js";function f(){const[r,o]=t.useState({fiscal_year_start:"2024-01-01",fiscal_year_end:"2024-12-31",default_currency:"DOP",decimal_places:2,date_format:"DD/MM/YYYY",number_format:"1,234.56",auto_backup:!0,backup_frequency:"daily",retention_period:30}),[c,i]=t.useState(!1),[l,n]=t.useState(null);t.useEffect(()=>{g()},[]);const g=async()=>{try{const s=await u.getAccountingSettings();s&&o(s)}catch(s){console.error("Error loading settings:",s)}},x=async s=>{s.preventDefault(),i(!0),n(null);try{await u.saveAccountingSettings(r),n({type:"success",text:"Configuración contable guardada exitosamente"})}catch{n({type:"error",text:"Error al guardar la configuración"})}finally{i(!1)}},a=(s,d)=>{o(m=>({...m,[s]:d}))};return e.jsx(b,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuración Contable"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Configura períodos fiscales, monedas y políticas contables"})]}),e.jsxs("button",{onClick:()=>window.REACT_APP_NAVIGATE("/settings"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[e.jsx("i",{className:"ri-arrow-left-line"}),e.jsx("span",{children:"Volver a Configuración"})]})]})}),l&&e.jsx("div",{className:`p-4 rounded-lg ${l.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.text}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Período Fiscal"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inicio del Año Fiscal *"}),e.jsx("input",{type:"date",required:!0,value:r.fiscal_year_start,onChange:s=>a("fiscal_year_start",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fin del Año Fiscal *"}),e.jsx("input",{type:"date",required:!0,value:r.fiscal_year_end,onChange:s=>a("fiscal_year_end",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Moneda y Formatos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda Principal *"}),e.jsxs("select",{value:r.default_currency,onChange:s=>a("default_currency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"DOP",children:"Peso Dominicano (DOP)"}),e.jsx("option",{value:"USD",children:"Dólar Americano (USD)"}),e.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decimales *"}),e.jsxs("select",{value:r.decimal_places,onChange:s=>a("decimal_places",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:0,children:"0 decimales"}),e.jsx("option",{value:2,children:"2 decimales"}),e.jsx("option",{value:4,children:"4 decimales"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de Fecha"}),e.jsxs("select",{value:r.date_format,onChange:s=>a("date_format",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de Números"}),e.jsxs("select",{value:r.number_format,onChange:s=>a("number_format",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"1,234.56",children:"1,234.56"}),e.jsx("option",{value:"1.234,56",children:"1.234,56"}),e.jsx("option",{value:"1 234.56",children:"1 234.56"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración de Respaldos"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"auto_backup",checked:r.auto_backup,onChange:s=>a("auto_backup",s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"auto_backup",className:"ml-2 block text-sm text-gray-900",children:"Habilitar respaldos automáticos"})]}),r.auto_backup&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frecuencia de Respaldo"}),e.jsxs("select",{value:r.backup_frequency,onChange:s=>a("backup_frequency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"daily",children:"Diario"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Período de Retención (días)"}),e.jsx("input",{type:"number",min:"1",max:"365",value:r.retention_period,onChange:s=>a("retention_period",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Catálogo de Cuentas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{type:"button",className:"flex items-center justify-center space-x-2 bg-blue-50 text-blue-700 px-4 py-3 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("i",{className:"ri-download-line"}),e.jsx("span",{children:"Importar Plan Contable"})]}),e.jsxs("button",{type:"button",className:"flex items-center justify-center space-x-2 bg-green-50 text-green-700 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("i",{className:"ri-upload-line"}),e.jsx("span",{children:"Exportar Plan Contable"})]}),e.jsxs("button",{type:"button",className:"flex items-center justify-center space-x-2 bg-orange-50 text-orange-700 px-4 py-3 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx("i",{className:"ri-refresh-line"}),e.jsx("span",{children:"Restablecer Plan Base"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>window.REACT_APP_NAVIGATE("/settings"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?"Guardando...":"Guardar Cambios"})]})]})]})})}export{f as default};
//# sourceMappingURL=page-rSTozpyc.js.map

{"version":3,"file":"page-DfzUzAYC.js","sources":["../../src/pages/accounts-receivable/reports/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport DashboardLayout from '../../../components/layout/DashboardLayout';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\n\nexport default function ReportsPage() {\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n\n  // Mock data for reports\n  const customers = [\n    { id: '1', name: 'Empresa ABC S.R.L.', currentBalance: 125000, creditLimit: 200000, status: 'Activo' },\n    { id: '2', name: 'Comercial XYZ', currentBalance: 85000, creditLimit: 150000, status: 'Activo' },\n    { id: '3', name: 'Distribuidora DEF', currentBalance: 45000, creditLimit: 100000, status: 'Activo' },\n    { id: '4', name: 'Servicios GHI', currentBalance: 0, creditLimit: 50000, status: 'Inactivo' },\n    { id: '5', name: 'Importadora JKL', currentBalance: 180000, creditLimit: 250000, status: 'Activo' }\n  ];\n\n  const invoices = [\n    { id: '1', customerId: '1', customerName: 'Empresa ABC S.R.L.', invoiceNumber: 'FAC-001', amount: 100000, balance: 50000, daysOverdue: 0, dueDate: '2024-02-15' },\n    { id: '2', customerId: '1', customerName: 'Empresa ABC S.R.L.', invoiceNumber: 'FAC-002', amount: 75000, balance: 75000, daysOverdue: 15, dueDate: '2024-01-20' },\n    { id: '3', customerId: '2', customerName: 'Comercial XYZ', invoiceNumber: 'FAC-003', amount: 85000, balance: 85000, daysOverdue: 0, dueDate: '2024-02-20' },\n    { id: '4', customerId: '3', customerName: 'Distribuidora DEF', invoiceNumber: 'FAC-004', amount: 45000, balance: 45000, daysOverdue: 0, dueDate: '2024-02-25' },\n    { id: '5', customerId: '5', customerName: 'Importadora JKL', invoiceNumber: 'FAC-005', amount: 120000, balance: 120000, daysOverdue: 30, dueDate: '2024-01-05' },\n    { id: '6', customerId: '2', customerName: 'Comercial XYZ', invoiceNumber: 'FAC-006', amount: 65000, balance: 65000, daysOverdue: 45, dueDate: '2023-12-20' }\n  ];\n\n  const payments = [\n    { id: '1', customerName: 'Empresa ABC S.R.L.', amount: 50000, paymentMethod: 'transfer', date: '2024-01-15', invoiceNumber: 'FAC-001' },\n    { id: '2', customerName: 'Comercial XYZ', amount: 120000, paymentMethod: 'check', date: '2024-01-20', invoiceNumber: 'FAC-007' },\n    { id: '3', customerName: 'Empresa ABC S.R.L.', amount: 25000, paymentMethod: 'cash', date: '2024-01-25', invoiceNumber: 'FAC-008' },\n    { id: '4', customerName: 'Distribuidora DEF', amount: 35000, paymentMethod: 'transfer', date: '2024-01-30', invoiceNumber: 'FAC-009' },\n    { id: '5', customerName: 'Importadora JKL', amount: 80000, paymentMethod: 'card', date: '2024-02-01', invoiceNumber: 'FAC-010' }\n  ];\n\n  const handleGenerateAgingReport = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Reporte de Antigüedad de Saldos', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    \n    // Análisis por períodos\n    const agingData = customers.map(customer => {\n      const customerInvoices = invoices.filter(inv => inv.customerId === customer.id && inv.balance > 0);\n      const current = customerInvoices.filter(inv => inv.daysOverdue === 0).reduce((sum, inv) => sum + inv.balance, 0);\n      const days1to30 = customerInvoices.filter(inv => inv.daysOverdue >= 1 && inv.daysOverdue <= 30).reduce((sum, inv) => sum + inv.balance, 0);\n      const days31to60 = customerInvoices.filter(inv => inv.daysOverdue >= 31 && inv.daysOverdue <= 60).reduce((sum, inv) => sum + inv.balance, 0);\n      const days61to90 = customerInvoices.filter(inv => inv.daysOverdue >= 61 && inv.daysOverdue <= 90).reduce((sum, inv) => sum + inv.balance, 0);\n      const over90 = customerInvoices.filter(inv => inv.daysOverdue > 90).reduce((sum, inv) => sum + inv.balance, 0);\n      \n      return [\n        customer.name,\n        `RD$ ${current.toLocaleString()}`,\n        `RD$ ${days1to30.toLocaleString()}`,\n        `RD$ ${days31to60.toLocaleString()}`,\n        `RD$ ${days61to90.toLocaleString()}`,\n        `RD$ ${over90.toLocaleString()}`,\n        `RD$ ${customer.currentBalance.toLocaleString()}`\n      ];\n    });\n    \n    (doc as any).autoTable({\n      startY: 60,\n      head: [['Cliente', 'Corriente', '1-30 días', '31-60 días', '61-90 días', '+90 días', 'Total']],\n      body: agingData,\n      theme: 'striped',\n      headStyles: { fillColor: [239, 68, 68] },\n      styles: { fontSize: 8 }\n    });\n    \n    doc.save(`antiguedad-saldos-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const handleGenerateStatementReport = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Estados de Cuenta por Cliente', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    \n    let currentY = 60;\n    \n    customers.forEach((customer, index) => {\n      if (index > 0) {\n        doc.addPage();\n        currentY = 20;\n      }\n      \n      doc.setFontSize(16);\n      doc.text(`Estado de Cuenta - ${customer.name}`, 20, currentY);\n      currentY += 20;\n      \n      const customerInvoices = invoices.filter(inv => inv.customerId === customer.id);\n      const customerPayments = payments.filter(pay => pay.customerName === customer.name);\n      \n      // Facturas\n      if (customerInvoices.length > 0) {\n        doc.setFontSize(14);\n        doc.text('Facturas:', 20, currentY);\n        currentY += 10;\n        \n        const invoiceData = customerInvoices.map(inv => [\n          inv.invoiceNumber,\n          `RD$ ${inv.amount.toLocaleString()}`,\n          `RD$ ${inv.balance.toLocaleString()}`,\n          inv.daysOverdue > 0 ? `${inv.daysOverdue} días` : 'Al día'\n        ]);\n        \n        (doc as any).autoTable({\n          startY: currentY,\n          head: [['Factura', 'Monto', 'Saldo', 'Estado']],\n          body: invoiceData,\n          theme: 'grid',\n          styles: { fontSize: 9 }\n        });\n        \n        currentY = (doc as any).lastAutoTable.finalY + 20;\n      }\n      \n      // Pagos\n      if (customerPayments.length > 0) {\n        doc.setFontSize(14);\n        doc.text('Pagos Recibidos:', 20, currentY);\n        currentY += 10;\n        \n        const paymentData = customerPayments.map(pay => [\n          pay.date,\n          `RD$ ${pay.amount.toLocaleString()}`,\n          pay.paymentMethod === 'transfer' ? 'Transferencia' :\n          pay.paymentMethod === 'check' ? 'Cheque' :\n          pay.paymentMethod === 'cash' ? 'Efectivo' : 'Tarjeta'\n        ]);\n        \n        (doc as any).autoTable({\n          startY: currentY,\n          head: [['Fecha', 'Monto', 'Método']],\n          body: paymentData,\n          theme: 'grid',\n          styles: { fontSize: 9 }\n        });\n      }\n      \n      // Resumen\n      doc.setFontSize(12);\n      doc.text(`Saldo Actual: RD$ ${customer.currentBalance.toLocaleString()}`, 20, doc.internal.pageSize.height - 30);\n    });\n    \n    doc.save(`estados-cuenta-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const handleGenerateCollectionReport = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Reporte de Cobranza', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    if (dateFrom && dateTo) {\n      doc.text(`Período: ${dateFrom} al ${dateTo}`, 20, 50);\n    }\n    \n    const totalPayments = payments.reduce((sum, p) => sum + p.amount, 0);\n    const paymentsByMethod = payments.reduce((acc, payment) => {\n      acc[payment.paymentMethod] = (acc[payment.paymentMethod] || 0) + payment.amount;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    doc.setFontSize(14);\n    doc.text('Resumen de Cobranza', 20, 70);\n    \n    const summaryData = [\n      ['Concepto', 'Monto'],\n      ['Total Cobrado', `RD$ ${totalPayments.toLocaleString()}`],\n      ['Número de Pagos', payments.length.toString()],\n      ['Efectivo', `RD$ ${(paymentsByMethod.cash || 0).toLocaleString()}`],\n      ['Transferencias', `RD$ ${(paymentsByMethod.transfer || 0).toLocaleString()}`],\n      ['Cheques', `RD$ ${(paymentsByMethod.check || 0).toLocaleString()}`],\n      ['Tarjetas', `RD$ ${(paymentsByMethod.card || 0).toLocaleString()}`]\n    ];\n    \n    (doc as any).autoTable({\n      startY: 80,\n      head: [summaryData[0]],\n      body: summaryData.slice(1),\n      theme: 'grid',\n      headStyles: { fillColor: [34, 197, 94] }\n    });\n    \n    doc.setFontSize(14);\n    doc.text('Detalle de Pagos', 20, (doc as any).lastAutoTable.finalY + 20);\n    \n    const paymentData = payments.map(payment => [\n      payment.date,\n      payment.customerName,\n      `RD$ ${payment.amount.toLocaleString()}`,\n      payment.paymentMethod === 'transfer' ? 'Transferencia' :\n      payment.paymentMethod === 'check' ? 'Cheque' :\n      payment.paymentMethod === 'cash' ? 'Efectivo' : 'Tarjeta'\n    ]);\n    \n    (doc as any).autoTable({\n      startY: (doc as any).lastAutoTable.finalY + 30,\n      head: [['Fecha', 'Cliente', 'Monto', 'Método']],\n      body: paymentData,\n      theme: 'striped',\n      headStyles: { fillColor: [16, 185, 129] },\n      styles: { fontSize: 9 }\n    });\n    \n    doc.save(`reporte-cobranza-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const handleGenerateCollectionExcel = () => {\n    const totalPayments = payments.reduce((sum, p) => sum + p.amount, 0);\n    const paymentsByMethod = payments.reduce((acc, payment) => {\n      acc[payment.paymentMethod] = (acc[payment.paymentMethod] || 0) + payment.amount;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    const csvContent = [\n      ['Reporte de Cobranza'],\n      [`Fecha de generación: ${new Date().toLocaleDateString()}`],\n      dateFrom && dateTo ? [`Período: ${dateFrom} al ${dateTo}`] : [],\n      [''],\n      ['RESUMEN DE COBRANZA'],\n      ['Total Cobrado', `RD$ ${totalPayments.toLocaleString()}`],\n      ['Número de Pagos', payments.length.toString()],\n      ['Efectivo', `RD$ ${(paymentsByMethod.cash || 0).toLocaleString()}`],\n      ['Transferencias', `RD$ ${(paymentsByMethod.transfer || 0).toLocaleString()}`],\n      ['Cheques', `RD$ ${(paymentsByMethod.check || 0).toLocaleString()}`],\n      ['Tarjetas', `RD$ ${(paymentsByMethod.card || 0).toLocaleString()}`],\n      [''],\n      ['DETALLE DE PAGOS'],\n      ['Fecha', 'Cliente', 'Monto', 'Método'],\n      ...payments.map(payment => [\n        payment.date,\n        payment.customerName,\n        payment.amount,\n        payment.paymentMethod === 'transfer' ? 'Transferencia' :\n        payment.paymentMethod === 'check' ? 'Cheque' :\n        payment.paymentMethod === 'cash' ? 'Efectivo' : 'Tarjeta'\n      ])\n    ].filter(row => row.length > 0).map(row => row.join(',')).join('\\n');\n    \n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = `reporte-cobranza-${new Date().toISOString().split('T')[0]}.csv`;\n    link.click();\n  };\n\n  const handleGenerateCustomerBalanceReport = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Reporte de Saldos por Cliente', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    \n    // Estadísticas generales\n    const totalBalance = customers.reduce((sum, c) => sum + c.currentBalance, 0);\n    const totalCreditLimit = customers.reduce((sum, c) => sum + c.creditLimit, 0);\n    const activeCustomers = customers.filter(c => c.status === 'Activo').length;\n    const customersWithBalance = customers.filter(c => c.currentBalance > 0).length;\n    \n    doc.setFontSize(14);\n    doc.text('Resumen General', 20, 60);\n    \n    const summaryData = [\n      ['Total Saldos por Cobrar', `RD$ ${totalBalance.toLocaleString()}`],\n      ['Total Límites de Crédito', `RD$ ${totalCreditLimit.toLocaleString()}`],\n      ['Clientes Activos', activeCustomers.toString()],\n      ['Clientes con Saldo', customersWithBalance.toString()],\n      ['Utilización de Crédito', `${((totalBalance / totalCreditLimit) * 100).toFixed(1)}%`]\n    ];\n    \n    (doc as any).autoTable({\n      startY: 70,\n      head: [['Concepto', 'Valor']],\n      body: summaryData,\n      theme: 'grid',\n      headStyles: { fillColor: [255, 152, 0] },\n      styles: { fontSize: 10 }\n    });\n    \n    doc.setFontSize(14);\n    doc.text('Detalle por Cliente', 20, (doc as any).lastAutoTable.finalY + 20);\n    \n    const customerData = customers.map(customer => {\n      const utilizationPercent = customer.creditLimit > 0 ? ((customer.currentBalance / customer.creditLimit) * 100).toFixed(1) : '0';\n      const availableCredit = customer.creditLimit - customer.currentBalance;\n      \n      return [\n        customer.name,\n        `RD$ ${customer.currentBalance.toLocaleString()}`,\n        `RD$ ${customer.creditLimit.toLocaleString()}`,\n        `RD$ ${availableCredit.toLocaleString()}`,\n        `${utilizationPercent}%`,\n        customer.status\n      ];\n    });\n    \n    (doc as any).autoTable({\n      startY: (doc as any).lastAutoTable.finalY + 30,\n      head: [['Cliente', 'Saldo Actual', 'Límite Crédito', 'Crédito Disponible', 'Utilización', 'Estado']],\n      body: customerData,\n      theme: 'striped',\n      headStyles: { fillColor: [255, 152, 0] },\n      styles: { fontSize: 9 }\n    });\n    \n    doc.save(`saldos-por-cliente-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const handleGenerateOverdueReport = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Reporte de Facturas Vencidas', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    \n    // Filtrar facturas vencidas\n    const overdueInvoices = invoices.filter(inv => inv.daysOverdue > 0 && inv.balance > 0);\n    const totalOverdue = overdueInvoices.reduce((sum, inv) => sum + inv.balance, 0);\n    \n    // Análisis por períodos\n    const overdue1to30 = overdueInvoices.filter(inv => inv.daysOverdue >= 1 && inv.daysOverdue <= 30);\n    const overdue31to60 = overdueInvoices.filter(inv => inv.daysOverdue >= 31 && inv.daysOverdue <= 60);\n    const overdue61to90 = overdueInvoices.filter(inv => inv.daysOverdue >= 61 && inv.daysOverdue <= 90);\n    const overdueOver90 = overdueInvoices.filter(inv => inv.daysOverdue > 90);\n    \n    doc.setFontSize(14);\n    doc.text('Resumen de Vencimientos', 20, 60);\n    \n    const summaryData = [\n      ['Total Facturas Vencidas', overdueInvoices.length.toString()],\n      ['Monto Total Vencido', `RD$ ${totalOverdue.toLocaleString()}`],\n      ['1-30 días', `${overdue1to30.length} facturas - RD$ ${overdue1to30.reduce((sum, inv) => sum + inv.balance, 0).toLocaleString()}`],\n      ['31-60 días', `${overdue31to60.length} facturas - RD$ ${overdue31to60.reduce((sum, inv) => sum + inv.balance, 0).toLocaleString()}`],\n      ['61-90 días', `${overdue61to90.length} facturas - RD$ ${overdue61to90.reduce((sum, inv) => sum + inv.balance, 0).toLocaleString()}`],\n      ['Más de 90 días', `${overdueOver90.length} facturas - RD$ ${overdueOver90.reduce((sum, inv) => sum + inv.balance, 0).toLocaleString()}`]\n    ];\n    \n    (doc as any).autoTable({\n      startY: 70,\n      head: [['Concepto', 'Detalle']],\n      body: summaryData,\n      theme: 'grid',\n      headStyles: { fillColor: [239, 68, 68] },\n      styles: { fontSize: 10 }\n    });\n    \n    if (overdueInvoices.length > 0) {\n      doc.setFontSize(14);\n      doc.text('Detalle de Facturas Vencidas', 20, (doc as any).lastAutoTable.finalY + 20);\n      \n      const overdueData = overdueInvoices.map(invoice => [\n        invoice.invoiceNumber,\n        invoice.customerName,\n        invoice.dueDate,\n        `${invoice.daysOverdue} días`,\n        `RD$ ${invoice.amount.toLocaleString()}`,\n        `RD$ ${invoice.balance.toLocaleString()}`\n      ]);\n      \n      (doc as any).autoTable({\n        startY: (doc as any).lastAutoTable.finalY + 30,\n        head: [['Factura', 'Cliente', 'Vencimiento', 'Días Atraso', 'Monto Original', 'Saldo Pendiente']],\n        body: overdueData,\n        theme: 'striped',\n        headStyles: { fillColor: [239, 68, 68] },\n        styles: { fontSize: 9 }\n      });\n    }\n    \n    doc.save(`facturas-vencidas-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const handleGeneratePaymentAnalysisReport = () => {\n    const doc = new jsPDF();\n    \n    doc.setFontSize(20);\n    doc.text('Análisis de Patrones de Pago', 20, 20);\n    \n    doc.setFontSize(12);\n    doc.text(`Fecha de generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    \n    // Análisis por cliente\n    const customerPaymentAnalysis = customers.map(customer => {\n      const customerPayments = payments.filter(p => p.customerName === customer.name);\n      const totalPaid = customerPayments.reduce((sum, p) => sum + p.amount, 0);\n      const avgPayment = customerPayments.length > 0 ? totalPaid / customerPayments.length : 0;\n      const paymentFrequency = customerPayments.length;\n      \n      // Método de pago preferido\n      const methodCount = customerPayments.reduce((acc, p) => {\n        acc[p.paymentMethod] = (acc[p.paymentMethod] || 0) + 1;\n        return acc;\n      }, {} as Record<string, number>);\n      \n      const preferredMethod = Object.entries(methodCount).reduce((a, b) => \n        methodCount[a[0]] > methodCount[b[0]] ? a : b, ['N/A', 0])[0];\n      \n      return {\n        customer: customer.name,\n        totalPaid,\n        avgPayment,\n        paymentFrequency,\n        preferredMethod,\n        currentBalance: customer.currentBalance\n      };\n    });\n    \n    // Estadísticas generales\n    const totalPaymentsAmount = payments.reduce((sum, p) => sum + p.amount, 0);\n    const avgPaymentAmount = payments.length > 0 ? totalPaymentsAmount / payments.length : 0;\n    \n    const methodStats = payments.reduce((acc, payment) => {\n      acc[payment.paymentMethod] = (acc[payment.paymentMethod] || 0) + payment.amount;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    doc.setFontSize(14);\n    doc.text('Estadísticas Generales', 20, 60);\n    \n    const generalStats = [\n      ['Total Pagos Recibidos', `RD$ ${totalPaymentsAmount.toLocaleString()}`],\n      ['Número de Transacciones', payments.length.toString()],\n      ['Pago Promedio', `RD$ ${avgPaymentAmount.toLocaleString()}`],\n      ['Transferencias', `RD$ ${(methodStats.transfer || 0).toLocaleString()}`],\n      ['Cheques', `RD$ ${(methodStats.check || 0).toLocaleString()}`],\n      ['Efectivo', `RD$ ${(methodStats.cash || 0).toLocaleString()}`],\n      ['Tarjetas', `RD$ ${(methodStats.card || 0).toLocaleString()}`]\n    ];\n    \n    (doc as any).autoTable({\n      startY: 70,\n      head: [['Concepto', 'Valor']],\n      body: generalStats,\n      theme: 'grid',\n      headStyles: { fillColor: [99, 102, 241] },\n      styles: { fontSize: 10 }\n    });\n    \n    doc.setFontSize(14);\n    doc.text('Análisis por Cliente', 20, (doc as any).lastAutoTable.finalY + 20);\n    \n    const analysisData = customerPaymentAnalysis.map(analysis => {\n      const methodName = analysis.preferredMethod === 'transfer' ? 'Transferencia' :\n                        analysis.preferredMethod === 'check' ? 'Cheque' :\n                        analysis.preferredMethod === 'cash' ? 'Efectivo' :\n                        analysis.preferredMethod === 'card' ? 'Tarjeta' : 'N/A';\n      \n      return [\n        analysis.customer,\n        `RD$ ${analysis.totalPaid.toLocaleString()}`,\n        analysis.paymentFrequency.toString(),\n        `RD$ ${analysis.avgPayment.toLocaleString()}`,\n        methodName,\n        `RD$ ${analysis.currentBalance.toLocaleString()}`\n      ];\n    });\n    \n    (doc as any).autoTable({\n      startY: (doc as any).lastAutoTable.finalY + 30,\n      head: [['Cliente', 'Total Pagado', 'Frecuencia', 'Pago Promedio', 'Método Preferido', 'Saldo Actual']],\n      body: analysisData,\n      theme: 'striped',\n      headStyles: { fillColor: [99, 102, 241] },\n      styles: { fontSize: 9 }\n    });\n    \n    doc.save(`analisis-pagos-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Reportes de Cuentas por Cobrar</h1>\n        </div>\n\n        {/* Date Filter */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Filtros de Fecha</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Fecha Desde</label>\n              <input\n                type=\"date\"\n                value={dateFrom}\n                onChange={(e) => setDateFrom(e.target.value)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Fecha Hasta</label>\n              <input\n                type=\"date\"\n                value={dateTo}\n                onChange={(e) => setDateTo(e.target.value)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Reports Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* Aging Report */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Antigüedad de Saldos</h3>\n              <i className=\"ri-calendar-line text-2xl text-blue-600\"></i>\n            </div>\n            <p className=\"text-gray-600 mb-4\">Análisis de vencimientos por cliente y períodos de antigüedad</p>\n            <div className=\"flex space-x-2\">\n              <button \n                onClick={handleGenerateAgingReport}\n                className=\"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n              >\n                <i className=\"ri-file-pdf-line mr-2\"></i>PDF\n              </button>\n            </div>\n          </div>\n\n          {/* Statement Report */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Estado de Cuenta</h3>\n              <i className=\"ri-file-list-line text-2xl text-green-600\"></i>\n            </div>\n            <p className=\"text-gray-600 mb-4\">Movimientos detallados por cliente con facturas y pagos</p>\n            <button \n              onClick={handleGenerateStatementReport}\n              className=\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>Generar PDF\n            </button>\n          </div>\n\n          {/* Collection Report */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Reporte de Cobranza</h3>\n              <i className=\"ri-money-dollar-circle-line text-2xl text-purple-600\"></i>\n            </div>\n            <p className=\"text-gray-600 mb-4\">Resumen de pagos recibidos por período y método de pago</p>\n            <div className=\"flex space-x-2\">\n              <button \n                onClick={handleGenerateCollectionReport}\n                className=\"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n              >\n                <i className=\"ri-file-pdf-line mr-2\"></i>PDF\n              </button>\n              <button \n                onClick={handleGenerateCollectionExcel}\n                className=\"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n              >\n                <i className=\"ri-file-excel-line mr-2\"></i>Excel\n              </button>\n            </div>\n          </div>\n\n          {/* Customer Balance Report */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Saldos por Cliente</h3>\n              <i className=\"ri-user-line text-2xl text-orange-600\"></i>\n            </div>\n            <p className=\"text-gray-600 mb-4\">Listado de saldos actuales por cliente con límites de crédito</p>\n            <button \n              onClick={handleGenerateCustomerBalanceReport}\n              className=\"w-full bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>Generar PDF\n            </button>\n          </div>\n\n          {/* Overdue Report */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Facturas Vencidas</h3>\n              <i className=\"ri-alarm-warning-line text-2xl text-red-600\"></i>\n            </div>\n            <p className=\"text-gray-600 mb-4\">Listado de facturas vencidas con días de atraso</p>\n            <button \n              onClick={handleGenerateOverdueReport}\n              className=\"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>Generar PDF\n            </button>\n          </div>\n\n          {/* Payment Analysis */}\n          <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Análisis de Pagos</h3>\n              <i className=\"ri-bar-chart-line text-2xl text-indigo-600\"></i>\n            </div>\n            <p className=\"text-gray-600 mb-4\">Análisis estadístico de patrones de pago por cliente</p>\n            <button \n              onClick={handleGeneratePaymentAnalysisReport}\n              className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>Generar PDF\n            </button>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  );\n}"],"names":["ReportsPage","dateFrom","setDateFrom","useState","dateTo","setDateTo","customers","invoices","payments","handleGenerateAgingReport","doc","jsPDF","agingData","customer","customerInvoices","inv","current","sum","days1to30","days31to60","days61to90","over90","handleGenerateStatementReport","currentY","index","customerPayments","pay","invoiceData","paymentData","handleGenerateCollectionReport","totalPayments","p","paymentsByMethod","acc","payment","summaryData","handleGenerateCollectionExcel","csvContent","row","blob","link","handleGenerateCustomerBalanceReport","totalBalance","c","totalCreditLimit","activeCustomers","customersWithBalance","customerData","utilizationPercent","availableCredit","handleGenerateOverdueReport","overdueInvoices","totalOverdue","overdue1to30","overdue31to60","overdue61to90","overdueOver90","overdueData","invoice","handleGeneratePaymentAnalysisReport","customerPaymentAnalysis","totalPaid","avgPayment","paymentFrequency","methodCount","preferredMethod","a","totalPaymentsAmount","avgPaymentAmount","methodStats","generalStats","analysisData","analysis","methodName","jsx","DashboardLayout","jsxs"],"mappings":"kJAKA,SAAwBA,GAAc,CACpC,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAE,EACrC,CAACC,EAAQC,CAAS,EAAIF,EAAAA,SAAS,EAAE,EAGjCG,EAAY,CAChB,CAAE,GAAI,IAAK,KAAM,qBAAsB,eAAgB,MAAQ,YAAa,IAAQ,OAAQ,QAAA,EAC5F,CAAE,GAAI,IAAK,KAAM,gBAAiB,eAAgB,KAAO,YAAa,KAAQ,OAAQ,QAAA,EACtF,CAAE,GAAI,IAAK,KAAM,oBAAqB,eAAgB,KAAO,YAAa,IAAQ,OAAQ,QAAA,EAC1F,CAAE,GAAI,IAAK,KAAM,gBAAiB,eAAgB,EAAG,YAAa,IAAO,OAAQ,UAAA,EACjF,CAAE,GAAI,IAAK,KAAM,kBAAmB,eAAgB,KAAQ,YAAa,KAAQ,OAAQ,QAAA,CAAS,EAG9FC,EAAW,CACf,CAAE,GAAI,IAAK,WAAY,IAAK,aAAc,qBAAsB,cAAe,UAAW,OAAQ,IAAQ,QAAS,IAAO,YAAa,EAAG,QAAS,YAAA,EACnJ,CAAE,GAAI,IAAK,WAAY,IAAK,aAAc,qBAAsB,cAAe,UAAW,OAAQ,KAAO,QAAS,KAAO,YAAa,GAAI,QAAS,YAAA,EACnJ,CAAE,GAAI,IAAK,WAAY,IAAK,aAAc,gBAAiB,cAAe,UAAW,OAAQ,KAAO,QAAS,KAAO,YAAa,EAAG,QAAS,YAAA,EAC7I,CAAE,GAAI,IAAK,WAAY,IAAK,aAAc,oBAAqB,cAAe,UAAW,OAAQ,KAAO,QAAS,KAAO,YAAa,EAAG,QAAS,YAAA,EACjJ,CAAE,GAAI,IAAK,WAAY,IAAK,aAAc,kBAAmB,cAAe,UAAW,OAAQ,KAAQ,QAAS,KAAQ,YAAa,GAAI,QAAS,YAAA,EAClJ,CAAE,GAAI,IAAK,WAAY,IAAK,aAAc,gBAAiB,cAAe,UAAW,OAAQ,KAAO,QAAS,KAAO,YAAa,GAAI,QAAS,YAAA,CAAa,EAGvJC,EAAW,CACf,CAAE,GAAI,IAAK,aAAc,qBAAsB,OAAQ,IAAO,cAAe,WAAY,KAAM,aAAc,cAAe,SAAA,EAC5H,CAAE,GAAI,IAAK,aAAc,gBAAiB,OAAQ,KAAQ,cAAe,QAAS,KAAM,aAAc,cAAe,SAAA,EACrH,CAAE,GAAI,IAAK,aAAc,qBAAsB,OAAQ,KAAO,cAAe,OAAQ,KAAM,aAAc,cAAe,SAAA,EACxH,CAAE,GAAI,IAAK,aAAc,oBAAqB,OAAQ,KAAO,cAAe,WAAY,KAAM,aAAc,cAAe,SAAA,EAC3H,CAAE,GAAI,IAAK,aAAc,kBAAmB,OAAQ,IAAO,cAAe,OAAQ,KAAM,aAAc,cAAe,SAAA,CAAU,EAG3HC,EAA4B,IAAM,CACtC,MAAMC,EAAM,IAAIC,EAEhBD,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,kCAAmC,GAAI,EAAE,EAElDA,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB,IAAI,OAAO,oBAAoB,GAAI,GAAI,EAAE,EAG1E,MAAME,EAAYN,EAAU,IAAIO,GAAY,CAC1C,MAAMC,EAAmBP,EAAS,OAAOQ,GAAOA,EAAI,aAAeF,EAAS,IAAME,EAAI,QAAU,CAAC,EAC3FC,EAAUF,EAAiB,OAAOC,GAAOA,EAAI,cAAgB,CAAC,EAAE,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EACzGG,EAAYJ,EAAiB,UAAcC,EAAI,aAAe,GAAKA,EAAI,aAAe,EAAE,EAAE,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EACnII,EAAaL,EAAiB,UAAcC,EAAI,aAAe,IAAMA,EAAI,aAAe,EAAE,EAAE,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EACrIK,EAAaN,EAAiB,UAAcC,EAAI,aAAe,IAAMA,EAAI,aAAe,EAAE,EAAE,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EACrIM,EAASP,EAAiB,OAAOC,GAAOA,EAAI,YAAc,EAAE,EAAE,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EAE7G,MAAO,CACLF,EAAS,KACT,OAAOG,EAAQ,eAAA,CAAgB,GAC/B,OAAOE,EAAU,eAAA,CAAgB,GACjC,OAAOC,EAAW,eAAA,CAAgB,GAClC,OAAOC,EAAW,eAAA,CAAgB,GAClC,OAAOC,EAAO,eAAA,CAAgB,GAC9B,OAAOR,EAAS,eAAe,eAAA,CAAgB,EAAA,CAEnD,CAAC,EAEAH,EAAY,UAAU,CACrB,OAAQ,GACR,KAAM,CAAC,CAAC,UAAW,YAAa,YAAa,aAAc,aAAc,WAAY,OAAO,CAAC,EAC7F,KAAME,EACN,MAAO,UACP,WAAY,CAAE,UAAW,CAAC,IAAK,GAAI,EAAE,CAAA,EACrC,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,EAEDF,EAAI,KAAK,qBAAqB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,MAAM,CAC5E,EAEMY,EAAgC,IAAM,CAC1C,MAAMZ,EAAM,IAAIC,EAEhBD,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,gCAAiC,GAAI,EAAE,EAEhDA,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB,IAAI,OAAO,oBAAoB,GAAI,GAAI,EAAE,EAE1E,IAAIa,EAAW,GAEfjB,EAAU,QAAQ,CAACO,EAAUW,IAAU,CACjCA,EAAQ,IACVd,EAAI,QAAA,EACJa,EAAW,IAGbb,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,sBAAsBG,EAAS,IAAI,GAAI,GAAIU,CAAQ,EAC5DA,GAAY,GAEZ,MAAMT,EAAmBP,EAAS,UAAcQ,EAAI,aAAeF,EAAS,EAAE,EACxEY,EAAmBjB,EAAS,UAAckB,EAAI,eAAiBb,EAAS,IAAI,EAGlF,GAAIC,EAAiB,OAAS,EAAG,CAC/BJ,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,YAAa,GAAIa,CAAQ,EAClCA,GAAY,GAEZ,MAAMI,EAAcb,EAAiB,IAAIC,GAAO,CAC9CA,EAAI,cACJ,OAAOA,EAAI,OAAO,eAAA,CAAgB,GAClC,OAAOA,EAAI,QAAQ,eAAA,CAAgB,GACnCA,EAAI,YAAc,EAAI,GAAGA,EAAI,WAAW,QAAU,QAAA,CACnD,EAEAL,EAAY,UAAU,CACrB,OAAQa,EACR,KAAM,CAAC,CAAC,UAAW,QAAS,QAAS,QAAQ,CAAC,EAC9C,KAAMI,EACN,MAAO,OACP,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,EAEDJ,EAAYb,EAAY,cAAc,OAAS,EACjD,CAGA,GAAIe,EAAiB,OAAS,EAAG,CAC/Bf,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,mBAAoB,GAAIa,CAAQ,EACzCA,GAAY,GAEZ,MAAMK,EAAcH,EAAiB,IAAIC,GAAO,CAC9CA,EAAI,KACJ,OAAOA,EAAI,OAAO,eAAA,CAAgB,GAClCA,EAAI,gBAAkB,WAAa,gBACnCA,EAAI,gBAAkB,QAAU,SAChCA,EAAI,gBAAkB,OAAS,WAAa,SAAA,CAC7C,EAEAhB,EAAY,UAAU,CACrB,OAAQa,EACR,KAAM,CAAC,CAAC,QAAS,QAAS,QAAQ,CAAC,EACnC,KAAMK,EACN,MAAO,OACP,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,CACH,CAGAlB,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,qBAAqBG,EAAS,eAAe,eAAA,CAAgB,GAAI,GAAIH,EAAI,SAAS,SAAS,OAAS,EAAE,CACjH,CAAC,EAEDA,EAAI,KAAK,kBAAkB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,MAAM,CACzE,EAEMmB,EAAiC,IAAM,CAC3C,MAAMnB,EAAM,IAAIC,EAEhBD,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,sBAAuB,GAAI,EAAE,EAEtCA,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB,IAAI,OAAO,oBAAoB,GAAI,GAAI,EAAE,EACtET,GAAYG,GACdM,EAAI,KAAK,YAAYT,CAAQ,OAAOG,CAAM,GAAI,GAAI,EAAE,EAGtD,MAAM0B,EAAgBtB,EAAS,OAAO,CAACS,EAAKc,IAAMd,EAAMc,EAAE,OAAQ,CAAC,EAC7DC,EAAmBxB,EAAS,OAAO,CAACyB,EAAKC,KAC7CD,EAAIC,EAAQ,aAAa,GAAKD,EAAIC,EAAQ,aAAa,GAAK,GAAKA,EAAQ,OAClED,GACN,CAAA,CAA4B,EAE/BvB,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,sBAAuB,GAAI,EAAE,EAEtC,MAAMyB,EAAc,CAClB,CAAC,WAAY,OAAO,EACpB,CAAC,gBAAiB,OAAOL,EAAc,eAAA,CAAgB,EAAE,EACzD,CAAC,kBAAmBtB,EAAS,OAAO,UAAU,EAC9C,CAAC,WAAY,QAAQwB,EAAiB,MAAQ,GAAG,eAAA,CAAgB,EAAE,EACnE,CAAC,iBAAkB,QAAQA,EAAiB,UAAY,GAAG,eAAA,CAAgB,EAAE,EAC7E,CAAC,UAAW,QAAQA,EAAiB,OAAS,GAAG,eAAA,CAAgB,EAAE,EACnE,CAAC,WAAY,QAAQA,EAAiB,MAAQ,GAAG,eAAA,CAAgB,EAAE,CAAA,EAGpEtB,EAAY,UAAU,CACrB,OAAQ,GACR,KAAM,CAACyB,EAAY,CAAC,CAAC,EACrB,KAAMA,EAAY,MAAM,CAAC,EACzB,MAAO,OACP,WAAY,CAAE,UAAW,CAAC,GAAI,IAAK,EAAE,CAAA,CAAE,CACxC,EAEDzB,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,mBAAoB,GAAKA,EAAY,cAAc,OAAS,EAAE,EAEvE,MAAMkB,EAAcpB,EAAS,IAAI0B,GAAW,CAC1CA,EAAQ,KACRA,EAAQ,aACR,OAAOA,EAAQ,OAAO,eAAA,CAAgB,GACtCA,EAAQ,gBAAkB,WAAa,gBACvCA,EAAQ,gBAAkB,QAAU,SACpCA,EAAQ,gBAAkB,OAAS,WAAa,SAAA,CACjD,EAEAxB,EAAY,UAAU,CACrB,OAASA,EAAY,cAAc,OAAS,GAC5C,KAAM,CAAC,CAAC,QAAS,UAAW,QAAS,QAAQ,CAAC,EAC9C,KAAMkB,EACN,MAAO,UACP,WAAY,CAAE,UAAW,CAAC,GAAI,IAAK,GAAG,CAAA,EACtC,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,EAEDlB,EAAI,KAAK,oBAAoB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,MAAM,CAC3E,EAEM0B,EAAgC,IAAM,CAC1C,MAAMN,EAAgBtB,EAAS,OAAO,CAACS,EAAKc,IAAMd,EAAMc,EAAE,OAAQ,CAAC,EAC7DC,EAAmBxB,EAAS,OAAO,CAACyB,EAAKC,KAC7CD,EAAIC,EAAQ,aAAa,GAAKD,EAAIC,EAAQ,aAAa,GAAK,GAAKA,EAAQ,OAClED,GACN,CAAA,CAA4B,EAEzBI,EAAa,CACjB,CAAC,qBAAqB,EACtB,CAAC,wBAAwB,IAAI,OAAO,mBAAA,CAAoB,EAAE,EAC1DpC,GAAYG,EAAS,CAAC,YAAYH,CAAQ,OAAOG,CAAM,EAAE,EAAI,CAAA,EAC7D,CAAC,EAAE,EACH,CAAC,qBAAqB,EACtB,CAAC,gBAAiB,OAAO0B,EAAc,eAAA,CAAgB,EAAE,EACzD,CAAC,kBAAmBtB,EAAS,OAAO,UAAU,EAC9C,CAAC,WAAY,QAAQwB,EAAiB,MAAQ,GAAG,eAAA,CAAgB,EAAE,EACnE,CAAC,iBAAkB,QAAQA,EAAiB,UAAY,GAAG,eAAA,CAAgB,EAAE,EAC7E,CAAC,UAAW,QAAQA,EAAiB,OAAS,GAAG,eAAA,CAAgB,EAAE,EACnE,CAAC,WAAY,QAAQA,EAAiB,MAAQ,GAAG,eAAA,CAAgB,EAAE,EACnE,CAAC,EAAE,EACH,CAAC,kBAAkB,EACnB,CAAC,QAAS,UAAW,QAAS,QAAQ,EACtC,GAAGxB,EAAS,IAAI0B,GAAW,CACzBA,EAAQ,KACRA,EAAQ,aACRA,EAAQ,OACRA,EAAQ,gBAAkB,WAAa,gBACvCA,EAAQ,gBAAkB,QAAU,SACpCA,EAAQ,gBAAkB,OAAS,WAAa,SAAA,CACjD,CAAA,EACD,OAAOI,GAAOA,EAAI,OAAS,CAAC,EAAE,IAAIA,GAAOA,EAAI,KAAK,GAAG,CAAC,EAAE,KAAK;AAAA,CAAI,EAE7DC,EAAO,IAAI,KAAK,CAACF,CAAU,EAAG,CAAE,KAAM,0BAA2B,EACjEG,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAO,IAAI,gBAAgBD,CAAI,EACpCC,EAAK,SAAW,oBAAoB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,OAC1EA,EAAK,MAAA,CACP,EAEMC,EAAsC,IAAM,CAChD,MAAM/B,EAAM,IAAIC,EAEhBD,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,gCAAiC,GAAI,EAAE,EAEhDA,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB,IAAI,OAAO,oBAAoB,GAAI,GAAI,EAAE,EAG1E,MAAMgC,EAAepC,EAAU,OAAO,CAACW,EAAK0B,IAAM1B,EAAM0B,EAAE,eAAgB,CAAC,EACrEC,EAAmBtC,EAAU,OAAO,CAACW,EAAK0B,IAAM1B,EAAM0B,EAAE,YAAa,CAAC,EACtEE,EAAkBvC,EAAU,UAAYqC,EAAE,SAAW,QAAQ,EAAE,OAC/DG,EAAuBxC,EAAU,UAAYqC,EAAE,eAAiB,CAAC,EAAE,OAEzEjC,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,kBAAmB,GAAI,EAAE,EAElC,MAAMyB,EAAc,CAClB,CAAC,0BAA2B,OAAOO,EAAa,eAAA,CAAgB,EAAE,EAClE,CAAC,2BAA4B,OAAOE,EAAiB,eAAA,CAAgB,EAAE,EACvE,CAAC,mBAAoBC,EAAgB,UAAU,EAC/C,CAAC,qBAAsBC,EAAqB,UAAU,EACtD,CAAC,yBAA0B,IAAKJ,EAAeE,EAAoB,KAAK,QAAQ,CAAC,CAAC,GAAG,CAAA,EAGtFlC,EAAY,UAAU,CACrB,OAAQ,GACR,KAAM,CAAC,CAAC,WAAY,OAAO,CAAC,EAC5B,KAAMyB,EACN,MAAO,OACP,WAAY,CAAE,UAAW,CAAC,IAAK,IAAK,CAAC,CAAA,EACrC,OAAQ,CAAE,SAAU,EAAA,CAAG,CACxB,EAEDzB,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,sBAAuB,GAAKA,EAAY,cAAc,OAAS,EAAE,EAE1E,MAAMqC,EAAezC,EAAU,IAAIO,GAAY,CAC7C,MAAMmC,EAAqBnC,EAAS,YAAc,GAAMA,EAAS,eAAiBA,EAAS,YAAe,KAAK,QAAQ,CAAC,EAAI,IACtHoC,EAAkBpC,EAAS,YAAcA,EAAS,eAExD,MAAO,CACLA,EAAS,KACT,OAAOA,EAAS,eAAe,eAAA,CAAgB,GAC/C,OAAOA,EAAS,YAAY,eAAA,CAAgB,GAC5C,OAAOoC,EAAgB,eAAA,CAAgB,GACvC,GAAGD,CAAkB,IACrBnC,EAAS,MAAA,CAEb,CAAC,EAEAH,EAAY,UAAU,CACrB,OAASA,EAAY,cAAc,OAAS,GAC5C,KAAM,CAAC,CAAC,UAAW,eAAgB,iBAAkB,qBAAsB,cAAe,QAAQ,CAAC,EACnG,KAAMqC,EACN,MAAO,UACP,WAAY,CAAE,UAAW,CAAC,IAAK,IAAK,CAAC,CAAA,EACrC,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,EAEDrC,EAAI,KAAK,sBAAsB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,MAAM,CAC7E,EAEMwC,EAA8B,IAAM,CACxC,MAAMxC,EAAM,IAAIC,EAEhBD,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,+BAAgC,GAAI,EAAE,EAE/CA,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB,IAAI,OAAO,oBAAoB,GAAI,GAAI,EAAE,EAG1E,MAAMyC,EAAkB5C,EAAS,OAAOQ,GAAOA,EAAI,YAAc,GAAKA,EAAI,QAAU,CAAC,EAC/EqC,EAAeD,EAAgB,OAAO,CAAClC,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EAGxEsC,EAAeF,EAAgB,OAAOpC,GAAOA,EAAI,aAAe,GAAKA,EAAI,aAAe,EAAE,EAC1FuC,EAAgBH,EAAgB,OAAOpC,GAAOA,EAAI,aAAe,IAAMA,EAAI,aAAe,EAAE,EAC5FwC,EAAgBJ,EAAgB,OAAOpC,GAAOA,EAAI,aAAe,IAAMA,EAAI,aAAe,EAAE,EAC5FyC,EAAgBL,EAAgB,OAAOpC,GAAOA,EAAI,YAAc,EAAE,EAExEL,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,0BAA2B,GAAI,EAAE,EAE1C,MAAMyB,EAAc,CAClB,CAAC,0BAA2BgB,EAAgB,OAAO,UAAU,EAC7D,CAAC,sBAAuB,OAAOC,EAAa,eAAA,CAAgB,EAAE,EAC9D,CAAC,YAAa,GAAGC,EAAa,MAAM,mBAAmBA,EAAa,OAAO,CAACpC,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EAAE,eAAA,CAAgB,EAAE,EACjI,CAAC,aAAc,GAAGuC,EAAc,MAAM,mBAAmBA,EAAc,OAAO,CAACrC,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EAAE,eAAA,CAAgB,EAAE,EACpI,CAAC,aAAc,GAAGwC,EAAc,MAAM,mBAAmBA,EAAc,OAAO,CAACtC,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EAAE,eAAA,CAAgB,EAAE,EACpI,CAAC,iBAAkB,GAAGyC,EAAc,MAAM,mBAAmBA,EAAc,OAAO,CAACvC,EAAKF,IAAQE,EAAMF,EAAI,QAAS,CAAC,EAAE,eAAA,CAAgB,EAAE,CAAA,EAY1I,GATCL,EAAY,UAAU,CACrB,OAAQ,GACR,KAAM,CAAC,CAAC,WAAY,SAAS,CAAC,EAC9B,KAAMyB,EACN,MAAO,OACP,WAAY,CAAE,UAAW,CAAC,IAAK,GAAI,EAAE,CAAA,EACrC,OAAQ,CAAE,SAAU,EAAA,CAAG,CACxB,EAEGgB,EAAgB,OAAS,EAAG,CAC9BzC,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,+BAAgC,GAAKA,EAAY,cAAc,OAAS,EAAE,EAEnF,MAAM+C,EAAcN,EAAgB,IAAIO,GAAW,CACjDA,EAAQ,cACRA,EAAQ,aACRA,EAAQ,QACR,GAAGA,EAAQ,WAAW,QACtB,OAAOA,EAAQ,OAAO,eAAA,CAAgB,GACtC,OAAOA,EAAQ,QAAQ,eAAA,CAAgB,EAAA,CACxC,EAEAhD,EAAY,UAAU,CACrB,OAASA,EAAY,cAAc,OAAS,GAC5C,KAAM,CAAC,CAAC,UAAW,UAAW,cAAe,cAAe,iBAAkB,iBAAiB,CAAC,EAChG,KAAM+C,EACN,MAAO,UACP,WAAY,CAAE,UAAW,CAAC,IAAK,GAAI,EAAE,CAAA,EACrC,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,CACH,CAEA/C,EAAI,KAAK,qBAAqB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,MAAM,CAC5E,EAEMiD,EAAsC,IAAM,CAChD,MAAMjD,EAAM,IAAIC,EAEhBD,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,+BAAgC,GAAI,EAAE,EAE/CA,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB,IAAI,OAAO,oBAAoB,GAAI,GAAI,EAAE,EAG1E,MAAMkD,EAA0BtD,EAAU,IAAIO,GAAY,CACxD,MAAMY,EAAmBjB,EAAS,UAAYuB,EAAE,eAAiBlB,EAAS,IAAI,EACxEgD,EAAYpC,EAAiB,OAAO,CAACR,EAAKc,IAAMd,EAAMc,EAAE,OAAQ,CAAC,EACjE+B,EAAarC,EAAiB,OAAS,EAAIoC,EAAYpC,EAAiB,OAAS,EACjFsC,EAAmBtC,EAAiB,OAGpCuC,EAAcvC,EAAiB,OAAO,CAACQ,EAAKF,KAChDE,EAAIF,EAAE,aAAa,GAAKE,EAAIF,EAAE,aAAa,GAAK,GAAK,EAC9CE,GACN,CAAA,CAA4B,EAEzBgC,EAAkB,OAAO,QAAQD,CAAW,EAAE,OAAO,CAACE,EAAG,IAC7DF,EAAYE,EAAE,CAAC,CAAC,EAAIF,EAAY,EAAE,CAAC,CAAC,EAAIE,EAAI,EAAG,CAAC,MAAO,CAAC,CAAC,EAAE,CAAC,EAE9D,MAAO,CACL,SAAUrD,EAAS,KACnB,UAAAgD,EACA,WAAAC,EACA,iBAAAC,EACA,gBAAAE,EACA,eAAgBpD,EAAS,cAAA,CAE7B,CAAC,EAGKsD,EAAsB3D,EAAS,OAAO,CAACS,EAAKc,IAAMd,EAAMc,EAAE,OAAQ,CAAC,EACnEqC,EAAmB5D,EAAS,OAAS,EAAI2D,EAAsB3D,EAAS,OAAS,EAEjF6D,EAAc7D,EAAS,OAAO,CAACyB,EAAKC,KACxCD,EAAIC,EAAQ,aAAa,GAAKD,EAAIC,EAAQ,aAAa,GAAK,GAAKA,EAAQ,OAClED,GACN,CAAA,CAA4B,EAE/BvB,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,yBAA0B,GAAI,EAAE,EAEzC,MAAM4D,EAAe,CACnB,CAAC,wBAAyB,OAAOH,EAAoB,eAAA,CAAgB,EAAE,EACvE,CAAC,0BAA2B3D,EAAS,OAAO,UAAU,EACtD,CAAC,gBAAiB,OAAO4D,EAAiB,eAAA,CAAgB,EAAE,EAC5D,CAAC,iBAAkB,QAAQC,EAAY,UAAY,GAAG,eAAA,CAAgB,EAAE,EACxE,CAAC,UAAW,QAAQA,EAAY,OAAS,GAAG,eAAA,CAAgB,EAAE,EAC9D,CAAC,WAAY,QAAQA,EAAY,MAAQ,GAAG,eAAA,CAAgB,EAAE,EAC9D,CAAC,WAAY,QAAQA,EAAY,MAAQ,GAAG,eAAA,CAAgB,EAAE,CAAA,EAG/D3D,EAAY,UAAU,CACrB,OAAQ,GACR,KAAM,CAAC,CAAC,WAAY,OAAO,CAAC,EAC5B,KAAM4D,EACN,MAAO,OACP,WAAY,CAAE,UAAW,CAAC,GAAI,IAAK,GAAG,CAAA,EACtC,OAAQ,CAAE,SAAU,EAAA,CAAG,CACxB,EAED5D,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,uBAAwB,GAAKA,EAAY,cAAc,OAAS,EAAE,EAE3E,MAAM6D,EAAeX,EAAwB,IAAIY,GAAY,CAC3D,MAAMC,EAAaD,EAAS,kBAAoB,WAAa,gBAC3CA,EAAS,kBAAoB,QAAU,SACvCA,EAAS,kBAAoB,OAAS,WACtCA,EAAS,kBAAoB,OAAS,UAAY,MAEpE,MAAO,CACLA,EAAS,SACT,OAAOA,EAAS,UAAU,eAAA,CAAgB,GAC1CA,EAAS,iBAAiB,SAAA,EAC1B,OAAOA,EAAS,WAAW,eAAA,CAAgB,GAC3CC,EACA,OAAOD,EAAS,eAAe,eAAA,CAAgB,EAAA,CAEnD,CAAC,EAEA9D,EAAY,UAAU,CACrB,OAASA,EAAY,cAAc,OAAS,GAC5C,KAAM,CAAC,CAAC,UAAW,eAAgB,aAAc,gBAAiB,mBAAoB,cAAc,CAAC,EACrG,KAAM6D,EACN,MAAO,UACP,WAAY,CAAE,UAAW,CAAC,GAAI,IAAK,GAAG,CAAA,EACtC,OAAQ,CAAE,SAAU,CAAA,CAAE,CACvB,EAED7D,EAAI,KAAK,kBAAkB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,MAAM,CACzE,EAEA,OACEgE,EAAAA,IAACC,EAAA,CACC,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,MACb,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,yCACb,SAAAA,EAAAA,IAAC,MAAG,UAAU,mCAAmC,0CAA8B,CAAA,CACjF,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,gEACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,mBAAgB,EACzEE,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,cAAW,EAC3EA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOzE,EACP,SAAW,GAAMC,EAAY,EAAE,OAAO,KAAK,EAC3C,UAAU,qGAAA,CAAA,CACZ,EACF,SACC,MAAA,CACC,SAAA,CAAAwE,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,cAAW,EAC3EA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOtE,EACP,SAAW,GAAMC,EAAU,EAAE,OAAO,KAAK,EACzC,UAAU,qGAAA,CAAA,CACZ,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGAuE,EAAAA,KAAC,MAAA,CAAI,UAAU,uDAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,uBAAoB,EACxEA,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAAA,CAA0C,CAAA,EACzD,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,gEAA6D,EAC/FA,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACb,SAAAE,EAAAA,KAAC,SAAA,CACC,QAASnE,EACT,UAAU,yGAEV,SAAA,CAAAiE,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAA,CAAwB,EAAI,KAAA,CAAA,CAAA,CAC3C,CACF,CAAA,EACF,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,mBAAgB,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAAA,CAA4C,CAAA,EAC3D,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,0DAAuD,EACzFE,EAAAA,KAAC,SAAA,CACC,QAAStD,EACT,UAAU,wGAEV,SAAA,CAAAoD,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAA,CAAwB,EAAI,aAAA,CAAA,CAAA,CAC3C,EACF,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,sBAAmB,EACvEA,EAAAA,IAAC,IAAA,CAAE,UAAU,sDAAA,CAAuD,CAAA,EACtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,0DAAuD,EACzFE,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS/C,EACT,UAAU,yGAEV,SAAA,CAAA6C,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAA,CAAwB,EAAI,KAAA,CAAA,CAAA,EAE3CE,EAAAA,KAAC,SAAA,CACC,QAASxC,EACT,UAAU,6GAEV,SAAA,CAAAsC,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAAA,CAA0B,EAAI,OAAA,CAAA,CAAA,CAC7C,CAAA,CACF,CAAA,EACF,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,qBAAkB,EACtEA,EAAAA,IAAC,IAAA,CAAE,UAAU,uCAAA,CAAwC,CAAA,EACvD,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,gEAA6D,EAC/FE,EAAAA,KAAC,SAAA,CACC,QAASnC,EACT,UAAU,0GAEV,SAAA,CAAAiC,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAA,CAAwB,EAAI,aAAA,CAAA,CAAA,CAC3C,EACF,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,oBAAiB,EACrEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6CAAA,CAA8C,CAAA,EAC7D,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,kDAA+C,EACjFE,EAAAA,KAAC,SAAA,CACC,QAAS1B,EACT,UAAU,oGAEV,SAAA,CAAAwB,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAA,CAAwB,EAAI,aAAA,CAAA,CAAA,CAC3C,EACF,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,oBAAiB,EACrEA,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAAA,CAA6C,CAAA,EAC5D,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,uDAAoD,EACtFE,EAAAA,KAAC,SAAA,CACC,QAASjB,EACT,UAAU,0GAEV,SAAA,CAAAe,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAA,CAAwB,EAAI,aAAA,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}
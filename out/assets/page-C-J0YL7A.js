import{r as d,j as e,D as I,L as M}from"./index-CIddALDL.js";import{E as O}from"./jspdf.es.min-CF4tyWO7.js";import"./jspdf.plugin.autotable-BskTgnMR.js";function z(){const[p,y]=d.useState(""),[i,w]=d.useState("all"),[C,h]=d.useState(!1),[S,b]=d.useState(!1),[D,x]=d.useState(!1),[a,o]=d.useState(null),A=[{id:"1",noteNumber:"NC-001",customerId:"1",customerName:"Empresa ABC S.R.L.",date:"2024-01-15",amount:25e3,appliedAmount:25e3,balance:0,reason:"Devolución de mercancía",concept:"Devolución por productos defectuosos",status:"applied",relatedInvoice:"FAC-001",appliedInvoices:["FAC-004"]},{id:"2",noteNumber:"NC-002",customerId:"2",customerName:"Comercial XYZ",date:"2024-01-20",amount:15e3,appliedAmount:0,balance:15e3,reason:"Descuento por volumen",concept:"Descuento especial por compra mayor",status:"pending",appliedInvoices:[]},{id:"3",noteNumber:"NC-003",customerId:"3",customerName:"Distribuidora DEF",date:"2024-01-25",amount:3e4,appliedAmount:2e4,balance:1e4,reason:"Error en facturación",concept:"Corrección de precio facturado",status:"partial",relatedInvoice:"FAC-003",appliedInvoices:["FAC-005"]},{id:"4",noteNumber:"NC-004",customerId:"1",customerName:"Empresa ABC S.R.L.",date:"2024-01-28",amount:4e4,appliedAmount:0,balance:4e4,reason:"Bonificación comercial",concept:"Bonificación por fidelidad del cliente",status:"pending",appliedInvoices:[]},{id:"5",noteNumber:"NC-005",customerId:"2",customerName:"Comercial XYZ",date:"2024-01-30",amount:2e4,appliedAmount:0,balance:0,reason:"Cancelación de servicio",concept:"Nota de crédito cancelada",status:"cancelled",appliedInvoices:[]}],f=t=>{switch(t){case"pending":return"bg-blue-100 text-blue-800";case"applied":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},n=t=>{switch(t){case"pending":return"Pendiente";case"applied":return"Aplicada";case"partial":return"Parcial";case"cancelled":return"Cancelada";default:return"Desconocido"}},l=A.filter(t=>{const r=t.customerName.toLowerCase().includes(p.toLowerCase())||t.noteNumber.toLowerCase().includes(p.toLowerCase())||t.reason.toLowerCase().includes(p.toLowerCase()),m=i==="all"||t.status===i;return r&&m}),k=()=>{const t=new O;t.setFontSize(20),t.text("Reporte de Notas de Crédito",20,20),t.setFontSize(12),t.text(`Fecha de generación: ${new Date().toLocaleDateString()}`,20,40),t.text(`Estado: ${i==="all"?"Todos":n(i)}`,20,50);const r=l.reduce((s,c)=>s+c.amount,0),m=l.reduce((s,c)=>s+c.appliedAmount,0),N=l.reduce((s,c)=>s+c.balance,0),j=l.filter(s=>s.status==="pending").length;t.setFontSize(14),t.text("Resumen de Notas de Crédito",20,70);const g=[["Concepto","Valor"],["Total Notas de Crédito",`RD$ ${r.toLocaleString()}`],["Total Aplicado",`RD$ ${m.toLocaleString()}`],["Saldo Pendiente",`RD$ ${N.toLocaleString()}`],["Notas Pendientes",j.toString()],["Total de Notas",l.length.toString()]];t.autoTable({startY:80,head:[g[0]],body:g.slice(1),theme:"grid",headStyles:{fillColor:[59,130,246]}}),t.setFontSize(14),t.text("Detalle de Notas de Crédito",20,t.lastAutoTable.finalY+20);const u=l.map(s=>[s.noteNumber,s.customerName,s.date,`RD$ ${s.amount.toLocaleString()}`,`RD$ ${s.appliedAmount.toLocaleString()}`,`RD$ ${s.balance.toLocaleString()}`,s.reason,n(s.status)]);t.autoTable({startY:t.lastAutoTable.finalY+30,head:[["Nota","Cliente","Fecha","Monto","Aplicado","Saldo","Motivo","Estado"]],body:u,theme:"striped",headStyles:{fillColor:[34,197,94]},styles:{fontSize:8}}),t.save(`notas-credito-${new Date().toISOString().split("T")[0]}.pdf`)},$=()=>{const t=l.reduce((s,c)=>s+c.amount,0),r=l.reduce((s,c)=>s+c.appliedAmount,0),m=l.reduce((s,c)=>s+c.balance,0),N=l.filter(s=>s.status==="pending").length,j=[["Reporte de Notas de Crédito"],[`Fecha de generación: ${new Date().toLocaleDateString()}`],[`Estado: ${i==="all"?"Todos":n(i)}`],[""],["RESUMEN"],["Total Notas de Crédito",`RD$ ${t.toLocaleString()}`],["Total Aplicado",`RD$ ${r.toLocaleString()}`],["Saldo Pendiente",`RD$ ${m.toLocaleString()}`],["Notas Pendientes",N.toString()],["Total de Notas",l.length.toString()],[""],["DETALLE DE NOTAS DE CRÉDITO"],["Nota","Cliente","Fecha","Monto","Aplicado","Saldo","Motivo","Concepto","Estado"],...l.map(s=>[s.noteNumber,s.customerName,s.date,s.amount,s.appliedAmount,s.balance,s.reason,s.concept,n(s.status)])].map(s=>s.join(",")).join(`
`),g=new Blob([j],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");u.href=URL.createObjectURL(g),u.download=`notas-credito-${new Date().toISOString().split("T")[0]}.csv`,u.click()},F=()=>{o(null),h(!0)},L=t=>{o(t),b(!0)},R=t=>{o(t),x(!0)},v=t=>{confirm("¿Está seguro de que desea cancelar esta nota de crédito?")&&alert("Nota de crédito cancelada exitosamente")},E=t=>{t.preventDefault(),alert("Nota de crédito creada exitosamente"),h(!1)},T=t=>{t.preventDefault(),alert("Nota de crédito aplicada exitosamente"),x(!1),o(null)};return e.jsx(I,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notas de Crédito"}),e.jsxs("nav",{className:"flex space-x-2 text-sm text-gray-600 mt-2",children:[e.jsx(M,{to:"/accounts-receivable",className:"hover:text-blue-600",children:"Cuentas por Cobrar"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Notas de Crédito"})]})]}),e.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Nueva Nota de Crédito"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Notas"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["RD$",l.reduce((t,r)=>t+r.amount,0).toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-file-text-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Saldo Disponible"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["RD$",l.reduce((t,r)=>t+r.balance,0).toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-wallet-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monto Aplicado"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["RD$",l.reduce((t,r)=>t+r.appliedAmount,0).toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-check-double-line text-2xl text-purple-600"})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Notas Pendientes"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.filter(t=>t.status==="pending").length})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-orange-600"})})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-search-line text-gray-400"})}),e.jsx("input",{type:"text",value:p,onChange:t=>y(t.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar por cliente, número de nota o motivo..."})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs("select",{value:i,onChange:t=>w(t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8",children:[e.jsx("option",{value:"all",children:"Todos los Estados"}),e.jsx("option",{value:"pending",children:"Pendientes"}),e.jsx("option",{value:"partial",children:"Parciales"}),e.jsx("option",{value:"applied",children:"Aplicadas"}),e.jsx("option",{value:"cancelled",children:"Canceladas"})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:k,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-pdf-line mr-2"}),"PDF"]}),e.jsxs("button",{onClick:$,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-excel-line mr-2"}),"Excel"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nota"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aplicado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Motivo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.noteNumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.customerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.date}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["RD$",t.amount.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["RD$",t.appliedAmount.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["RD$",t.balance.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:t.reason}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(t.status)}`,children:n(t.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>L(t),className:"text-blue-600 hover:text-blue-900",title:"Ver detalles",children:e.jsx("i",{className:"ri-eye-line"})}),t.balance>0&&t.status!=="cancelled"&&e.jsx("button",{onClick:()=>R(t),className:"text-green-600 hover:text-green-900",title:"Aplicar nota",children:e.jsx("i",{className:"ri-check-line"})}),t.status==="pending"&&e.jsx("button",{onClick:()=>v(t.id),className:"text-red-600 hover:text-red-900",title:"Cancelar nota",children:e.jsx("i",{className:"ri-close-circle-line"})})]})})]},t.id))})]})})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Nueva Nota de Crédito"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),e.jsxs("select",{required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar cliente"}),e.jsx("option",{value:"1",children:"Empresa ABC S.R.L."}),e.jsx("option",{value:"2",children:"Comercial XYZ"}),e.jsx("option",{value:"3",children:"Distribuidora DEF"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),e.jsx("input",{type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto"}),e.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Factura Relacionada (Opcional)"}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar factura"}),e.jsx("option",{value:"FAC-001",children:"FAC-001"}),e.jsx("option",{value:"FAC-002",children:"FAC-002"}),e.jsx("option",{value:"FAC-003",children:"FAC-003"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo"}),e.jsxs("select",{required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar motivo"}),e.jsx("option",{value:"Devolución de mercancía",children:"Devolución de mercancía"}),e.jsx("option",{value:"Descuento por volumen",children:"Descuento por volumen"}),e.jsx("option",{value:"Error en facturación",children:"Error en facturación"}),e.jsx("option",{value:"Bonificación comercial",children:"Bonificación comercial"}),e.jsx("option",{value:"Cancelación de servicio",children:"Cancelación de servicio"}),e.jsx("option",{value:"Otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concepto"}),e.jsx("textarea",{rows:3,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción detallada de la nota de crédito..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Crear Nota de Crédito"})]})]})]})}),D&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Aplicar Nota de Crédito"}),e.jsx("button",{onClick:()=>{x(!1),o(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Nota: ",e.jsx("span",{className:"font-medium",children:a.noteNumber})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",e.jsx("span",{className:"font-medium",children:a.customerName})]}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["Saldo disponible: RD$",a.balance.toLocaleString()]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Factura a Aplicar"}),e.jsxs("select",{required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar factura"}),e.jsx("option",{value:"FAC-001",children:"FAC-001 - RD$ 50,000"}),e.jsx("option",{value:"FAC-002",children:"FAC-002 - RD$ 75,000"}),e.jsx("option",{value:"FAC-003",children:"FAC-003 - RD$ 100,000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto a Aplicar"}),e.jsx("input",{type:"number",step:"0.01",required:!0,max:a.balance,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),e.jsx("textarea",{rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Observaciones sobre la aplicación de la nota..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{x(!1),o(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:"Aplicar Nota"})]})]})]})}),S&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Detalles de la Nota de Crédito"}),e.jsx("button",{onClick:()=>{b(!1),o(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Número de Nota"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.noteNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Cliente"}),e.jsx("p",{className:"text-gray-900",children:a.customerName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Fecha"}),e.jsx("p",{className:"text-gray-900",children:a.date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Monto Original"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["RD$",a.amount.toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Motivo"}),e.jsx("p",{className:"text-gray-900",children:a.reason})]}),a.relatedInvoice&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Factura Relacionada"}),e.jsx("p",{className:"text-gray-900",children:a.relatedInvoice})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Monto Aplicado"}),e.jsxs("p",{className:"text-lg font-semibold text-purple-600",children:["RD$",a.appliedAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Saldo Disponible"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["RD$",a.balance.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(a.status)} mt-1`,children:n(a.status)})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Concepto"}),e.jsx("p",{className:"text-gray-900 mt-1",children:a.concept})]}),a.appliedInvoices.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Facturas Aplicadas"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:a.appliedInvoices.map((t,r)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:t},r))})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.balance>0&&a.status!=="cancelled"&&e.jsxs("button",{onClick:()=>{b(!1),x(!0)},className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-check-line mr-2"}),"Aplicar Nota"]}),a.status==="pending"&&e.jsxs("button",{onClick:()=>v(a.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-close-circle-line mr-2"}),"Cancelar Nota"]})]})]})})]})})}export{z as default};
//# sourceMappingURL=page-C-J0YL7A.js.map

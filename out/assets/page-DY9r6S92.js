import{r as c,j as e,D}from"./index-CIddALDL.js";function B(){const[x,t]=c.useState(!1),[r,n]=c.useState(""),[l,d]=c.useState("all"),a=[{id:"SUB-2024-001",customer:"Empresa ABC SRL",customerEmail:"contacto@empresaabc.com",service:"Licencias de Software Mensual",amount:15e3,frequency:"monthly",status:"active",startDate:"2024-01-01",nextBilling:"2024-02-01",lastInvoice:"FAC-2024-189",totalInvoices:12},{id:"SUB-2024-002",customer:"Comercial XYZ EIRL",customerEmail:"ventas@comercialxyz.com",service:"Mantenimiento Trimestral",amount:45e3,frequency:"quarterly",status:"active",startDate:"2024-01-15",nextBilling:"2024-04-15",lastInvoice:"FAC-2024-185",totalInvoices:4},{id:"SUB-2024-003",customer:"Distribuidora DEF SA",customerEmail:"compras@distribuidoradef.com",service:"Hosting y Dominio Anual",amount:12e4,frequency:"yearly",status:"active",startDate:"2024-01-01",nextBilling:"2025-01-01",lastInvoice:"FAC-2024-001",totalInvoices:1},{id:"SUB-2024-004",customer:"Servicios GHI SRL",customerEmail:"admin@serviciosghi.com",service:"Soporte Técnico Mensual",amount:8e3,frequency:"monthly",status:"paused",startDate:"2023-12-01",nextBilling:"2024-02-01",lastInvoice:"FAC-2023-456",totalInvoices:2},{id:"SUB-2024-005",customer:"Tecnología JKL SA",customerEmail:"info@tecnologiajkl.com",service:"Backup en la Nube Semanal",amount:3500,frequency:"weekly",status:"cancelled",startDate:"2023-11-01",nextBilling:null,lastInvoice:"FAC-2024-012",totalInvoices:8}],m=[{id:"1",name:"Empresa ABC SRL",email:"contacto@empresaabc.com"},{id:"2",name:"Comercial XYZ EIRL",email:"ventas@comercialxyz.com"},{id:"3",name:"Distribuidora DEF SA",email:"compras@distribuidoradef.com"},{id:"4",name:"Servicios GHI SRL",email:"admin@serviciosghi.com"},{id:"5",name:"Tecnología JKL SA",email:"info@tecnologiajkl.com"}],u=[{id:"1",name:"Licencias de Software",price:15e3},{id:"2",name:"Mantenimiento de Equipos",price:45e3},{id:"3",name:"Hosting y Dominio",price:12e4},{id:"4",name:"Soporte Técnico",price:8e3},{id:"5",name:"Backup en la Nube",price:3500}],h=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=s=>{switch(s){case"active":return"Activa";case"paused":return"Pausada";case"cancelled":return"Cancelada";case"expired":return"Expirada";default:return"Desconocido"}},g=s=>{switch(s){case"weekly":return"Semanal";case"monthly":return"Mensual";case"quarterly":return"Trimestral";case"yearly":return"Anual";default:return"Desconocido"}},o=a.filter(s=>{const i=s.customer.toLowerCase().includes(r.toLowerCase())||s.id.toLowerCase().includes(r.toLowerCase())||s.service.toLowerCase().includes(r.toLowerCase()),k=l==="all"||s.status===l;return i&&k}),f=()=>{t(!0)},y=s=>{alert(`Visualizando suscripción: ${s}`)},j=s=>{alert(`Editando suscripción: ${s}`)},b=s=>{confirm(`¿Pausar suscripción ${s}?`)&&alert(`Suscripción ${s} pausada`)},v=s=>{confirm(`¿Reanudar suscripción ${s}?`)&&alert(`Suscripción ${s} reanudada`)},N=s=>{confirm(`¿Cancelar suscripción ${s}? Esta acción no se puede deshacer.`)&&alert(`Suscripción ${s} cancelada`)},w=s=>{confirm(`¿Generar factura para suscripción ${s}?`)&&alert(`Factura generada para suscripción ${s}`)},S=s=>{alert(`Visualizando facturas de suscripción: ${s}`)},C=()=>{confirm("¿Procesar todas las facturaciones pendientes?")&&alert("Procesando facturaciones pendientes...")};return e.jsx(D,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facturación Recurrente"}),e.jsx("p",{className:"text-gray-600",children:"Gestión de suscripciones y facturación automática"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:C,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Procesar Pendientes"]}),e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Nueva Suscripción"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suscripciones Activas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:a.filter(s=>s.status==="active").length})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-green-100",children:e.jsx("i",{className:"ri-check-line text-xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Mensuales"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["RD$ ",a.filter(s=>s.status==="active"&&s.frequency==="monthly").reduce((s,i)=>s+i.amount,0).toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-blue-100",children:e.jsx("i",{className:"ri-money-dollar-circle-line text-xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Próximas Facturas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:a.filter(s=>s.status==="active"&&s.nextBilling).length})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-yellow-100",children:e.jsx("i",{className:"ri-calendar-line text-xl text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Suscripciones"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:a.length})]}),e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-purple-100",children:e.jsx("i",{className:"ri-repeat-line text-xl text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar por cliente, servicio o ID...",value:r,onChange:s=>n(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs("select",{value:l,onChange:s=>d(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8",children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activas"}),e.jsx("option",{value:"paused",children:"Pausadas"}),e.jsx("option",{value:"cancelled",children:"Canceladas"}),e.jsx("option",{value:"expired",children:"Expiradas"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:()=>{n(""),d("all")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Limpiar Filtros"]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Suscripciones (",o.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Servicio"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frecuencia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Próxima Factura"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.id})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.customer}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customerEmail})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.service})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["RD$ ",s.amount.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(s.frequency)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.nextBilling?new Date(s.nextBilling).toLocaleDateString("es-DO"):"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${h(s.status)}`,children:p(s.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>y(s.id),className:"text-blue-600 hover:text-blue-900 p-1",title:"Ver suscripción",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>j(s.id),className:"text-green-600 hover:text-green-900 p-1",title:"Editar suscripción",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>S(s.id),className:"text-purple-600 hover:text-purple-900 p-1",title:"Ver facturas",children:e.jsx("i",{className:"ri-file-list-line"})}),s.status==="active"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>w(s.id),className:"text-green-600 hover:text-green-900 p-1",title:"Generar factura",children:e.jsx("i",{className:"ri-file-add-line"})}),e.jsx("button",{onClick:()=>b(s.id),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Pausar suscripción",children:e.jsx("i",{className:"ri-pause-line"})})]}),s.status==="paused"&&e.jsx("button",{onClick:()=>v(s.id),className:"text-green-600 hover:text-green-900 p-1",title:"Reanudar suscripción",children:e.jsx("i",{className:"ri-play-line"})}),s.status!=="cancelled"&&e.jsx("button",{onClick:()=>N(s.id),className:"text-red-600 hover:text-red-900 p-1",title:"Cancelar suscripción",children:e.jsx("i",{className:"ri-close-line"})})]})})]},s.id))})]})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nueva Suscripción"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar cliente..."}),m.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Servicio"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar servicio..."}),u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto"}),e.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frecuencia"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"",children:"Seleccionar frecuencia..."}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensual"}),e.jsx("option",{value:"quarterly",children:"Trimestral"}),e.jsx("option",{value:"yearly",children:"Anual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio"}),e.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin (Opcional)"}),e.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción del Servicio"}),e.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción detallada del servicio..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:"Cancelar"}),e.jsx("button",{onClick:()=>{alert("Creando nueva suscripción..."),t(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Crear Suscripción"})]})]})})]})})}export{B as default};
//# sourceMappingURL=page-DY9r6S92.js.map

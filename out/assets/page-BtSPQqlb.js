import{r as x,j as e,D as $}from"./index-CIddALDL.js";import{E as R}from"./jspdf.es.min-CF4tyWO7.js";import"./jspdf.plugin.autotable-BskTgnMR.js";function T(){const[i,h]=x.useState("aging"),[p,u]=x.useState("2024-01-01"),[g,y]=x.useState("2024-01-31"),[m,b]=x.useState("all"),[f,j]=x.useState(!1),w=["Proveedor Industrial SA","Distribuidora Nacional SRL","Servicios Técnicos EIRL","Materiales Construcción SA"],d=[{supplier:"Proveedor Industrial SA",total:35e4,current:15e4,days1_30:1e5,days31_60:75e3,days61_90:25e3,over90:0},{supplier:"Distribuidora Nacional SRL",total:28e4,current:2e5,days1_30:5e4,days31_60:3e4,days61_90:0,over90:0},{supplier:"Servicios Técnicos EIRL",total:195e3,current:95e3,days1_30:6e4,days31_60:25e3,days61_90:15e3,over90:0},{supplier:"Materiales Construcción SA",total:165e3,current:65e3,days1_30:45e3,days31_60:35e3,days61_90:2e4,over90:0}],c=[{date:"2024-01-15",supplier:"Proveedor Industrial SA",reference:"PAY-2024-001",method:"Transferencia",amount:125e3},{date:"2024-01-14",supplier:"Distribuidora Nacional SRL",reference:"PAY-2024-002",method:"Cheque",amount:85e3},{date:"2024-01-13",supplier:"Servicios Técnicos EIRL",reference:"PAY-2024-003",method:"Efectivo",amount:45e3},{date:"2024-01-12",supplier:"Materiales Construcción SA",reference:"PAY-2024-004",method:"Transferencia",amount:195e3}],v=()=>{j(!0),alert("Reporte generado exitosamente")},N=()=>{const t=new R;if(t.setFontSize(20),t.text("Reporte de Cuentas por Pagar",20,20),t.setFontSize(12),t.text(`Tipo de Reporte: ${i==="aging"?"Antigüedad de Saldos":"Reporte de Pagos"}`,20,40),t.text(`Período: ${p} - ${g}`,20,50),t.text(`Fecha de Generación: ${new Date().toLocaleDateString()}`,20,60),i==="aging"){const o=d.map(a=>[a.supplier,`RD$ ${a.total.toLocaleString()}`,`RD$ ${a.current.toLocaleString()}`,`RD$ ${a.days1_30.toLocaleString()}`,`RD$ ${a.days31_60.toLocaleString()}`,`RD$ ${a.days61_90.toLocaleString()}`,`RD$ ${a.over90.toLocaleString()}`]);t.autoTable({head:[["Proveedor","Total","Corriente","1-30 días","31-60 días","61-90 días","+90 días"]],body:o,startY:80,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:10}});const l=d.reduce((a,r)=>({total:a.total+r.total,current:a.current+r.current,days1_30:a.days1_30+r.days1_30,days31_60:a.days31_60+r.days31_60,days61_90:a.days61_90+r.days61_90,over90:a.over90+r.over90}),{total:0,current:0,days1_30:0,days31_60:0,days61_90:0,over90:0});t.autoTable({head:[["","Total General","Corriente","1-30 días","31-60 días","61-90 días","+90 días"]],body:[["TOTALES",`RD$ ${l.total.toLocaleString()}`,`RD$ ${l.current.toLocaleString()}`,`RD$ ${l.days1_30.toLocaleString()}`,`RD$ ${l.days31_60.toLocaleString()}`,`RD$ ${l.days61_90.toLocaleString()}`,`RD$ ${l.over90.toLocaleString()}`]],startY:t.lastAutoTable.finalY+10,theme:"plain",styles:{fontStyle:"bold",fillColor:[240,240,240]}})}else{const o=c.map(a=>[a.date,a.supplier,a.reference,a.method,`RD$ ${a.amount.toLocaleString()}`]);t.autoTable({head:[["Fecha","Proveedor","Referencia","Método","Monto"]],body:o,startY:80,theme:"striped",headStyles:{fillColor:[34,197,94]},styles:{fontSize:10}});const l=c.reduce((a,r)=>a+r.amount,0);t.autoTable({body:[["TOTAL DE PAGOS",`RD$ ${l.toLocaleString()}`]],startY:t.lastAutoTable.finalY+10,theme:"plain",styles:{fontStyle:"bold",fillColor:[240,240,240]}})}const s=t.getNumberOfPages();for(let o=1;o<=s;o++)t.setPage(o),t.setFontSize(10),t.text(`Página ${o} de ${s}`,t.internal.pageSize.width-50,t.internal.pageSize.height-10),t.text("Sistema Contable - Cuentas por Pagar",20,t.internal.pageSize.height-10);t.save(`reporte-cuentas-por-pagar-${i}-${new Date().toISOString().split("T")[0]}.pdf`)},S=()=>{let t="";if(i==="aging"){t=`Reporte de Antigüedad de Saldos

`,t+=`Proveedor,Total,Corriente,1-30 días,31-60 días,61-90 días,+90 días
`,d.forEach(r=>{t+=`"${r.supplier}",${r.total},${r.current},${r.days1_30},${r.days31_60},${r.days61_90},${r.over90}
`});const a=d.reduce((r,n)=>({total:r.total+n.total,current:r.current+n.current,days1_30:r.days1_30+n.days1_30,days31_60:r.days31_60+n.days31_60,days61_90:r.days61_90+n.days61_90,over90:r.over90+n.over90}),{total:0,current:0,days1_30:0,days31_60:0,days61_90:0,over90:0});t+=`
TOTALES,${a.total},${a.current},${a.days1_30},${a.days31_60},${a.days61_90},${a.over90}
`}else{t=`Reporte de Pagos

`,t+=`Fecha,Proveedor,Referencia,Método,Monto
`,c.forEach(r=>{t+=`${r.date},"${r.supplier}",${r.reference},${r.method},${r.amount}
`});const a=c.reduce((r,n)=>r+n.amount,0);t+=`
,,,TOTAL,${a}
`}const s=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(s);o.setAttribute("href",l),o.setAttribute("download",`reporte-cuentas-por-pagar-${i}-${new Date().toISOString().split("T")[0]}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)};return e.jsx($,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reportes de Cuentas por Pagar"}),e.jsx("p",{className:"text-gray-600",children:"Genera reportes detallados de proveedores y pagos"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración del Reporte"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Reporte"}),e.jsxs("select",{value:i,onChange:t=>h(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"aging",children:"Antigüedad de Saldos"}),e.jsx("option",{value:"payments",children:"Reporte de Pagos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Inicio"}),e.jsx("input",{type:"date",value:p,onChange:t=>u(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Fin"}),e.jsx("input",{type:"date",value:g,onChange:t=>y(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proveedor"}),e.jsxs("select",{value:m,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Todos los Proveedores"}),w.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:v,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Generar Reporte"})})]})]}),f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs("button",{onClick:N,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-pdf-line mr-2"}),"Exportar PDF"]}),e.jsxs("button",{onClick:S,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-excel-line mr-2"}),"Exportar Excel"]})]}),i==="aging"?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reporte de Antigüedad de Saldos"}),e.jsxs("p",{className:"text-gray-600",children:["Período: ",p," - ",g]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Corriente"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"1-30 días"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"31-60 días"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"61-90 días"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"+90 días"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.supplier}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:["RD$ ",t.total.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600",children:["RD$ ",t.current.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-yellow-600",children:["RD$ ",t.days1_30.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-orange-600",children:["RD$ ",t.days31_60.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-600",children:["RD$ ",t.days61_90.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-800",children:["RD$ ",t.over90.toLocaleString()]})]},s))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:"TOTALES"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gray-900",children:["RD$ ",d.reduce((t,s)=>t+s.total,0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600",children:["RD$ ",d.reduce((t,s)=>t+s.current,0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-yellow-600",children:["RD$ ",d.reduce((t,s)=>t+s.days1_30,0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-orange-600",children:["RD$ ",d.reduce((t,s)=>t+s.days31_60,0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-600",children:["RD$ ",d.reduce((t,s)=>t+s.days61_90,0).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-800",children:["RD$ ",d.reduce((t,s)=>t+s.over90,0).toLocaleString()]})]})})]})})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reporte de Pagos"}),e.jsxs("p",{className:"text-gray-600",children:["Período: ",p," - ",g]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referencia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.supplier}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.reference}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${t.method==="Transferencia"?"bg-blue-100 text-blue-800":t.method==="Cheque"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:t.method})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:["RD$ ",t.amount.toLocaleString()]})]},s))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:"TOTAL DE PAGOS"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gray-900",children:["RD$ ",c.reduce((t,s)=>t+s.amount,0).toLocaleString()]})]})})]})})]})]})]})})}export{T as default};
//# sourceMappingURL=page-BtSPQqlb.js.map

import{r as x,j as e,D as T}from"./index-CIddALDL.js";import{E as R}from"./jspdf.es.min-CF4tyWO7.js";import"./jspdf.plugin.autotable-BskTgnMR.js";function F(){const[h,y]=x.useState(""),[g,N]=x.useState("all"),[w,n]=x.useState(!1),[C,p]=x.useState(!1),[a,i]=x.useState(null),l=[{id:"1",name:"Empresa ABC S.R.L.",document:"131-12345-6",phone:"809-123-4567",email:"contacto@empresaabc.com",address:"Av. 27 de Febrero, Santo Domingo",creditLimit:5e5,currentBalance:125e3,status:"active"},{id:"2",name:"Comercial XYZ",document:"131-23456-7",phone:"809-234-5678",email:"ventas@comercialxyz.com",address:"Calle Mercedes, Santiago",creditLimit:3e5,currentBalance:85e3,status:"active"},{id:"3",name:"Distribuidora DEF",document:"131-34567-8",phone:"809-345-6789",email:"info@distribuidoradef.com",address:"Av. Independencia, La Vega",creditLimit:2e5,currentBalance:45e3,status:"active"},{id:"4",name:"Servicios GHI",document:"131-45678-9",phone:"809-456-7890",email:"servicios@ghi.com",address:"Calle Duarte, San Cristóbal",creditLimit:15e4,currentBalance:0,status:"inactive"}],j=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"blocked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=t=>{switch(t){case"active":return"Activo";case"inactive":return"Inactivo";case"blocked":return"Bloqueado";default:return"Desconocido"}},b=l.filter(t=>{const c=t.name.toLowerCase().includes(h.toLowerCase())||t.document.includes(h),o=g==="all"||t.status===g;return c&&o}),S=()=>{const t=new R;t.setFontSize(20),t.text("Reporte de Clientes",20,20),t.setFontSize(12),t.text(`Fecha de generación: ${new Date().toLocaleDateString()}`,20,40);const c=l.filter(s=>s.status==="active").length,o=l.reduce((s,r)=>s+r.creditLimit,0),f=l.reduce((s,r)=>s+r.currentBalance,0);t.setFontSize(14),t.text("Estadísticas de Clientes",20,60);const u=[["Concepto","Valor"],["Total de Clientes",l.length.toString()],["Clientes Activos",c.toString()],["Límite de Crédito Total",`RD$ ${o.toLocaleString()}`],["Saldo Total Pendiente",`RD$ ${f.toLocaleString()}`]];t.autoTable({startY:70,head:[u[0]],body:u.slice(1),theme:"grid",headStyles:{fillColor:[59,130,246]}}),t.setFontSize(14),t.text("Detalle de Clientes",20,t.lastAutoTable.finalY+20);const d=b.map(s=>[s.name,s.document,s.phone,s.email,`RD$ ${s.creditLimit.toLocaleString()}`,`RD$ ${s.currentBalance.toLocaleString()}`,m(s.status)]);t.autoTable({startY:t.lastAutoTable.finalY+30,head:[["Cliente","Documento","Teléfono","Email","Límite Crédito","Saldo Actual","Estado"]],body:d,theme:"striped",headStyles:{fillColor:[168,85,247]},styles:{fontSize:8}}),t.save(`clientes-${new Date().toISOString().split("T")[0]}.pdf`)},L=()=>{const t=l.filter(s=>s.status==="active").length,c=l.reduce((s,r)=>s+r.creditLimit,0),o=l.reduce((s,r)=>s+r.currentBalance,0),f=[["Reporte de Clientes"],[`Fecha de generación: ${new Date().toLocaleDateString()}`],[""],["ESTADÍSTICAS"],["Total de Clientes",l.length.toString()],["Clientes Activos",t.toString()],["Límite de Crédito Total",`RD$ ${c.toLocaleString()}`],["Saldo Total Pendiente",`RD$ ${o.toLocaleString()}`],[""],["DETALLE DE CLIENTES"],["Cliente","Documento","Teléfono","Email","Dirección","Límite Crédito","Saldo Actual","Estado"],...b.map(s=>[s.name,s.document,s.phone,s.email,s.address,s.creditLimit,s.currentBalance,m(s.status)])].map(s=>s.join(",")).join(`
`),u=new Blob([f],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.href=URL.createObjectURL(u),d.download=`clientes-${new Date().toISOString().split("T")[0]}.csv`,d.click()},D=()=>{i(null),n(!0)},k=t=>{i(t),n(!0)},E=t=>{i(t),p(!0)},v=t=>{alert(`Estado de cuenta para ${t.name}:

Saldo actual: RD$ ${t.currentBalance.toLocaleString()}
Límite de crédito: RD$ ${t.creditLimit.toLocaleString()}`)},$=t=>{t.preventDefault(),alert(a?"Cliente actualizado exitosamente":"Cliente creado exitosamente"),n(!1),i(null)};return e.jsx(T,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Clientes"}),e.jsxs("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-add-line mr-2"}),"Nuevo Cliente"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-search-line text-gray-400"})}),e.jsx("input",{type:"text",value:h,onChange:t=>y(t.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar por nombre o documento..."})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs("select",{value:g,onChange:t=>N(t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-8",children:[e.jsx("option",{value:"all",children:"Todos los Estados"}),e.jsx("option",{value:"active",children:"Activos"}),e.jsx("option",{value:"inactive",children:"Inactivos"}),e.jsx("option",{value:"blocked",children:"Bloqueados"})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:S,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-pdf-line mr-2"}),"PDF"]}),e.jsxs("button",{onClick:L,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-excel-line mr-2"}),"Excel"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Límite Crédito"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Actual"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.address})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.document}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.phone}),e.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["RD$",t.creditLimit.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["RD$",t.currentBalance.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(t.status)}`,children:m(t.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>k(t),className:"text-blue-600 hover:text-blue-900",title:"Editar cliente",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>E(t),className:"text-green-600 hover:text-green-900",title:"Ver detalles",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>v(t),className:"text-purple-600 hover:text-purple-900",title:"Estado de cuenta",children:e.jsx("i",{className:"ri-file-list-line"})})]})})]},t.id))})]})})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a?"Editar Cliente":"Nuevo Cliente"}),e.jsx("button",{onClick:()=>{n(!1),i(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre/Razón Social"}),e.jsx("input",{type:"text",required:!0,defaultValue:a?.name||"",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nombre del cliente"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RNC/Cédula"}),e.jsx("input",{type:"text",required:!0,defaultValue:a?.document||"",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"000-0000000-0"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),e.jsx("input",{type:"tel",required:!0,defaultValue:a?.phone||"",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"809-000-0000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",required:!0,defaultValue:a?.email||"",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"cliente@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección"}),e.jsx("textarea",{rows:2,defaultValue:a?.address||"",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Dirección completa del cliente"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Límite de Crédito"}),e.jsx("input",{type:"number",step:"0.01",defaultValue:a?.creditLimit||"",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),e.jsxs("select",{defaultValue:a?.status||"active",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-8",children:[e.jsx("option",{value:"active",children:"Activo"}),e.jsx("option",{value:"inactive",children:"Inactivo"}),e.jsx("option",{value:"blocked",children:"Bloqueado"})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),i(null)},className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors whitespace-nowrap",children:"Cancelar"}),e.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[a?"Actualizar":"Crear"," Cliente"]})]})]})]})}),C&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Detalles del Cliente"}),e.jsx("button",{onClick:()=>{p(!1),i(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Nombre/Razón Social"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"RNC/Cédula"}),e.jsx("p",{className:"text-gray-900",children:a.document})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"text-gray-900",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:a.email})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("p",{className:"text-gray-900",children:a.address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Límite de Crédito"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["RD$",a.creditLimit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Saldo Actual"}),e.jsxs("p",{className:"text-lg font-semibold text-red-600",children:["RD$",a.currentBalance.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(a.status)}`,children:m(a.status)})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsxs("button",{onClick:()=>{p(!1),n(!0)},className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Editar Cliente"]}),e.jsxs("button",{onClick:()=>v(a),className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-list-line mr-2"}),"Estado de Cuenta"]})]})]})})]})})}export{F as default};
//# sourceMappingURL=page-jPWEn2Py.js.map

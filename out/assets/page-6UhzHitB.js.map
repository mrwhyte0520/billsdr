{"version":3,"file":"page-6UhzHitB.js","sources":["../../src/pages/settings/company/page.tsx"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport DashboardLayout from '../../../components/layout/DashboardLayout';\nimport { settingsService } from '../../../services/database';\n\ninterface CompanyInfo {\n  id?: string;\n  name: string;\n  ruc: string;\n  address: string;\n  phone: string;\n  email: string;\n  website: string;\n  logo?: string;\n  fiscal_year_start: string;\n  currency: string;\n  timezone: string;\n}\n\nexport default function CompanySettingsPage() {\n  const [companyInfo, setCompanyInfo] = useState<CompanyInfo>({\n    name: '',\n    ruc: '',\n    address: '',\n    phone: '',\n    email: '',\n    website: '',\n    fiscal_year_start: '01-01',\n    currency: 'DOP',\n    timezone: 'America/Santo_Domingo'\n  });\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  useEffect(() => {\n    loadCompanyInfo();\n  }, []);\n\n  const loadCompanyInfo = async () => {\n    try {\n      const data = await settingsService.getCompanyInfo();\n      if (data) {\n        setCompanyInfo(data);\n      }\n    } catch (error) {\n      console.error('Error loading company info:', error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage(null);\n\n    try {\n      await settingsService.saveCompanyInfo(companyInfo);\n      setMessage({ type: 'success', text: 'Información de la empresa guardada exitosamente' });\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error al guardar la información' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (field: keyof CompanyInfo, value: string) => {\n    setCompanyInfo(prev => ({ ...prev, [field]: value }));\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Información de la Empresa</h1>\n              <p className=\"text-gray-600 mt-1\">\n                Configura los datos básicos de tu empresa\n              </p>\n            </div>\n            <button\n              onClick={() => window.REACT_APP_NAVIGATE('/settings')}\n              className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900\"\n            >\n              <i className=\"ri-arrow-left-line\"></i>\n              <span>Volver a Configuración</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <div className={`p-4 rounded-lg ${\n            message.type === 'success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'\n          }`}>\n            {message.text}\n          </div>\n        )}\n\n        {/* Company Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Datos Básicos</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nombre de la Empresa *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={companyInfo.name}\n                  onChange={(e) => handleInputChange('name', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  RNC/RUC *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={companyInfo.ruc}\n                  onChange={(e) => handleInputChange('ruc', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Dirección *\n                </label>\n                <textarea\n                  required\n                  rows={3}\n                  value={companyInfo.address}\n                  onChange={(e) => handleInputChange('address', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Teléfono\n                </label>\n                <input\n                  type=\"tel\"\n                  value={companyInfo.phone}\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  value={companyInfo.email}\n                  onChange={(e) => handleInputChange('email', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Sitio Web\n                </label>\n                <input\n                  type=\"url\"\n                  value={companyInfo.website}\n                  onChange={(e) => handleInputChange('website', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Configuración Fiscal</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Inicio del Año Fiscal\n                </label>\n                <select\n                  value={companyInfo.fiscal_year_start}\n                  onChange={(e) => handleInputChange('fiscal_year_start', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8\"\n                >\n                  <option value=\"01-01\">1 de Enero</option>\n                  <option value=\"04-01\">1 de Abril</option>\n                  <option value=\"07-01\">1 de Julio</option>\n                  <option value=\"10-01\">1 de Octubre</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Moneda Principal\n                </label>\n                <select\n                  value={companyInfo.currency}\n                  onChange={(e) => handleInputChange('currency', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8\"\n                >\n                  <option value=\"DOP\">Peso Dominicano (DOP)</option>\n                  <option value=\"USD\">Dólar Americano (USD)</option>\n                  <option value=\"EUR\">Euro (EUR)</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Zona Horaria\n                </label>\n                <select\n                  value={companyInfo.timezone}\n                  onChange={(e) => handleInputChange('timezone', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8\"\n                >\n                  <option value=\"America/New_York\">Nueva York</option>\n                  <option value=\"America/Los_Angeles\">Los Ángeles</option>\n                  <option value=\"Europe/Madrid\">Madrid</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-4\">\n            <button\n              type=\"button\"\n              onClick={() => window.REACT_APP_NAVIGATE('/settings')}\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 whitespace-nowrap cursor-pointer\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 whitespace-nowrap cursor-pointer\"\n            >\n              {loading ? 'Guardando...' : 'Guardar Cambios'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["CompanySettingsPage","companyInfo","setCompanyInfo","useState","loading","setLoading","message","setMessage","useEffect","loadCompanyInfo","data","settingsService","error","handleSubmit","e","handleInputChange","field","value","prev","jsx","DashboardLayout","jsxs"],"mappings":"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"}
{"version":3,"file":"page-DQ61KpLt.js","sources":["../../src/pages/accounts-payable/purchase-orders/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport DashboardLayout from '../../../components/layout/DashboardLayout';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\n\ndeclare module 'jspdf' {\n  interface jsPDF {\n    autoTable: (options: any) => jsPDF;\n  }\n}\n\nexport default function PurchaseOrdersPage() {\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState<any>(null);\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [filterSupplier, setFilterSupplier] = useState('all');\n\n  const [orders, setOrders] = useState([\n    {\n      id: 1,\n      number: 'PO-2024-001',\n      date: '2024-01-15',\n      supplier: 'Proveedor Industrial SA',\n      products: [\n        { name: 'Tornillos M8x40', quantity: 100, price: 25, total: 2500 },\n        { name: 'Arandelas Planas', quantity: 200, price: 5, total: 1000 }\n      ],\n      subtotal: 3500,\n      itbis: 630,\n      total: 4130,\n      deliveryDate: '2024-01-25',\n      status: 'Pendiente',\n      notes: 'Entrega urgente requerida'\n    },\n    {\n      id: 2,\n      number: 'PO-2024-002',\n      date: '2024-01-14',\n      supplier: 'Distribuidora Nacional SRL',\n      products: [\n        { name: 'Cables Eléctricos 12AWG', quantity: 50, price: 120, total: 6000 },\n        { name: 'Interruptores', quantity: 25, price: 85, total: 2125 }\n      ],\n      subtotal: 8125,\n      itbis: 1462.5,\n      total: 9587.5,\n      deliveryDate: '2024-01-28',\n      status: 'Aprobada',\n      notes: 'Material para proyecto eléctrico'\n    },\n    {\n      id: 3,\n      number: 'PO-2024-003',\n      date: '2024-01-13',\n      supplier: 'Servicios Técnicos EIRL',\n      products: [\n        { name: 'Servicio de Instalación', quantity: 1, price: 15000, total: 15000 }\n      ],\n      subtotal: 15000,\n      itbis: 2700,\n      total: 17700,\n      deliveryDate: '2024-01-30',\n      status: 'Recibida',\n      notes: 'Servicio completado satisfactoriamente'\n    }\n  ]);\n\n  const [formData, setFormData] = useState({\n    supplier: '',\n    deliveryDate: '',\n    notes: '',\n    products: [{ name: '', quantity: 1, price: 0 }]\n  });\n\n  const suppliers = [\n    'Proveedor Industrial SA',\n    'Distribuidora Nacional SRL',\n    'Servicios Técnicos EIRL',\n    'Materiales Construcción SA'\n  ];\n\n  const filteredOrders = orders.filter(order => {\n    const matchesStatus = filterStatus === 'all' || order.status === filterStatus;\n    const matchesSupplier = filterSupplier === 'all' || order.supplier === filterSupplier;\n    return matchesStatus && matchesSupplier;\n  });\n\n  const calculateSubtotal = () => {\n    return formData.products.reduce((sum, product) => sum + (product.quantity * product.price), 0);\n  };\n\n  const calculateItbis = () => {\n    return calculateSubtotal() * 0.18;\n  };\n\n  const calculateTotal = () => {\n    return calculateSubtotal() + calculateItbis();\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const subtotal = calculateSubtotal();\n    const itbis = calculateItbis();\n    const total = calculateTotal();\n\n    const productsWithTotals = formData.products.map(product => ({\n      ...product,\n      total: product.quantity * product.price\n    }));\n\n    if (editingOrder) {\n      setOrders(orders.map(order => \n        order.id === editingOrder.id \n          ? { \n              ...order, \n              supplier: formData.supplier,\n              deliveryDate: formData.deliveryDate,\n              notes: formData.notes,\n              products: productsWithTotals,\n              subtotal,\n              itbis,\n              total\n            }\n          : order\n      ));\n    } else {\n      const newOrder = {\n        id: orders.length + 1,\n        number: `PO-2024-${String(orders.length + 1).padStart(3, '0')}`,\n        date: new Date().toISOString().split('T')[0],\n        supplier: formData.supplier,\n        products: productsWithTotals,\n        subtotal,\n        itbis,\n        total,\n        deliveryDate: formData.deliveryDate,\n        status: 'Pendiente',\n        notes: formData.notes\n      };\n      setOrders([...orders, newOrder]);\n    }\n    \n    resetForm();\n    alert(editingOrder ? 'Orden de compra actualizada exitosamente' : 'Orden de compra creada exitosamente');\n  };\n\n  const resetForm = () => {\n    setFormData({\n      supplier: '',\n      deliveryDate: '',\n      notes: '',\n      products: [{ name: '', quantity: 1, price: 0 }]\n    });\n    setEditingOrder(null);\n    setShowModal(false);\n  };\n\n  const handleEdit = (order: any) => {\n    setEditingOrder(order);\n    setFormData({\n      supplier: order.supplier,\n      deliveryDate: order.deliveryDate,\n      notes: order.notes,\n      products: order.products\n    });\n    setShowModal(true);\n  };\n\n  const handleApprove = (id: number) => {\n    if (confirm('¿Aprobar esta orden de compra?')) {\n      setOrders(orders.map(order => \n        order.id === id ? { ...order, status: 'Aprobada' } : order\n      ));\n      alert('Orden de compra aprobada exitosamente');\n    }\n  };\n\n  const handleReceive = (id: number) => {\n    if (confirm('¿Marcar esta orden como recibida?')) {\n      setOrders(orders.map(order => \n        order.id === id ? { ...order, status: 'Recibida' } : order\n      ));\n      alert('Orden marcada como recibida');\n    }\n  };\n\n  const handleCancel = (id: number) => {\n    if (confirm('¿Cancelar esta orden de compra?')) {\n      setOrders(orders.map(order => \n        order.id === id ? { ...order, status: 'Cancelada' } : order\n      ));\n      alert('Orden de compra cancelada');\n    }\n  };\n\n  const addProduct = () => {\n    setFormData({\n      ...formData,\n      products: [...formData.products, { name: '', quantity: 1, price: 0 }]\n    });\n  };\n\n  const removeProduct = (index: number) => {\n    if (formData.products.length > 1) {\n      setFormData({\n        ...formData,\n        products: formData.products.filter((_, i) => i !== index)\n      });\n    }\n  };\n\n  const updateProduct = (index: number, field: string, value: any) => {\n    const updatedProducts = formData.products.map((product, i) =>\n      i === index ? { ...product, [field]: value } : product\n    );\n    setFormData({ ...formData, products: updatedProducts });\n  };\n\n  const exportToPDF = () => {\n    const doc = new jsPDF();\n    \n    // Título\n    doc.setFontSize(20);\n    doc.text('Órdenes de Compra', 20, 20);\n    \n    // Información del reporte\n    doc.setFontSize(12);\n    doc.text(`Fecha de Generación: ${new Date().toLocaleDateString()}`, 20, 40);\n    doc.text(`Total de Órdenes: ${filteredOrders.length}`, 20, 50);\n    \n    // Preparar datos para la tabla\n    const tableData = filteredOrders.map(order => [\n      order.number,\n      order.date,\n      order.supplier,\n      `RD$ ${order.total.toLocaleString()}`,\n      order.deliveryDate,\n      order.status\n    ]);\n\n    // Crear la tabla\n    doc.autoTable({\n      head: [['Número', 'Fecha', 'Proveedor', 'Total', 'Entrega', 'Estado']],\n      body: tableData,\n      startY: 70,\n      theme: 'striped',\n      headStyles: { fillColor: [59, 130, 246] },\n      styles: { fontSize: 10 },\n      columnStyles: {\n        3: { halign: 'right' },\n        5: { halign: 'center' }\n      }\n    });\n\n    // Estadísticas\n    const totalAmount = filteredOrders.reduce((sum, order) => sum + order.total, 0);\n    const pendingOrders = filteredOrders.filter(o => o.status === 'Pendiente').length;\n    const approvedOrders = filteredOrders.filter(o => o.status === 'Aprobada').length;\n\n    doc.autoTable({\n      body: [\n        ['Total en Órdenes:', `RD$ ${totalAmount.toLocaleString()}`],\n        ['Órdenes Pendientes:', `${pendingOrders}`],\n        ['Órdenes Aprobadas:', `${approvedOrders}`]\n      ],\n      startY: doc.lastAutoTable.finalY + 20,\n      theme: 'plain',\n      styles: { fontStyle: 'bold' }\n    });\n\n    // Pie de página\n    const pageCount = doc.getNumberOfPages();\n    for (let i = 1; i <= pageCount; i++) {\n      doc.setPage(i);\n      doc.setFontSize(10);\n      doc.text(`Página ${i} de ${pageCount}`, doc.internal.pageSize.width - 50, doc.internal.pageSize.height - 10);\n      doc.text('Sistema Contable - Órdenes de Compra', 20, doc.internal.pageSize.height - 10);\n    }\n\n    doc.save(`ordenes-compra-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n\n  const exportToExcel = () => {\n    let csvContent = 'Órdenes de Compra\\n\\n';\n    csvContent += 'Número,Fecha,Proveedor,Subtotal,ITBIS,Total,Fecha Entrega,Estado,Notas\\n';\n    \n    filteredOrders.forEach(order => {\n      csvContent += `${order.number},${order.date},\"${order.supplier}\",${order.subtotal},${order.itbis},${order.total},${order.deliveryDate},\"${order.status}\",\"${order.notes}\"\\n`;\n    });\n\n    // Detalle de productos\n    csvContent += '\\n\\nDetalle de Productos\\n';\n    csvContent += 'Orden,Producto,Cantidad,Precio Unitario,Total\\n';\n    \n    filteredOrders.forEach(order => {\n      order.products.forEach(product => {\n        csvContent += `${order.number},\"${product.name}\",${product.quantity},${product.price},${product.total}\\n`;\n      });\n    });\n\n    // Estadísticas\n    const totalAmount = filteredOrders.reduce((sum, order) => sum + order.total, 0);\n    const pendingOrders = filteredOrders.filter(o => o.status === 'Pendiente').length;\n    const approvedOrders = filteredOrders.filter(o => o.status === 'Aprobada').length;\n\n    csvContent += `\\nEstadísticas\\n`;\n    csvContent += `Total en Órdenes,${totalAmount}\\n`;\n    csvContent += `Órdenes Pendientes,${pendingOrders}\\n`;\n    csvContent += `Órdenes Aprobadas,${approvedOrders}\\n`;\n    csvContent += `Total Órdenes,${filteredOrders.length}\\n`;\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `ordenes-compra-${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const printOrder = (order: any) => {\n    alert(`Imprimiendo orden de compra: ${order.number}`);\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Órdenes de Compra</h1>\n            <p className=\"text-gray-600\">Gestiona órdenes de compra y seguimiento</p>\n          </div>\n          <div className=\"flex space-x-3\">\n            <button \n              onClick={exportToPDF}\n              className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-pdf-line mr-2\"></i>\n              Exportar PDF\n            </button>\n            <button \n              onClick={exportToExcel}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-file-excel-line mr-2\"></i>\n              Exportar Excel\n            </button>\n            <button \n              onClick={() => setShowModal(true)}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap\"\n            >\n              <i className=\"ri-add-line mr-2\"></i>\n              Nueva Orden\n            </button>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4\">\n                <i className=\"ri-shopping-cart-line text-xl text-blue-600\"></i>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Total Órdenes</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{orders.length}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4\">\n                <i className=\"ri-time-line text-xl text-orange-600\"></i>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Pendientes</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{orders.filter(o => o.status === 'Pendiente').length}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4\">\n                <i className=\"ri-check-line text-xl text-green-600\"></i>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Aprobadas</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{orders.filter(o => o.status === 'Aprobada').length}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4\">\n                <i className=\"ri-money-dollar-circle-line text-xl text-purple-600\"></i>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Valor Total</p>\n                <p className=\"text-2xl font-bold text-gray-900\">RD$ {orders.reduce((sum, o) => sum + o.total, 0).toLocaleString()}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Estado</label>\n              <select \n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"all\">Todos los Estados</option>\n                <option value=\"Pendiente\">Pendiente</option>\n                <option value=\"Aprobada\">Aprobada</option>\n                <option value=\"Recibida\">Recibida</option>\n                <option value=\"Cancelada\">Cancelada</option>\n              </select>\n            </div>\n            <div className=\"md:col-span-2 flex items-end\">\n              <button \n                onClick={() => setFilterStatus('all')}\n                className=\"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap\"\n              >\n                Limpiar Filtros\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Orders Table */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Lista de Órdenes de Compra</h3>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Número</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Proveedor</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Entrega</th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Total</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Estado</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredOrders.map((order) => (\n                  <tr key={order.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{order.number}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.date}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.supplier}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{order.deliveryDate}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900\">\n                      RD$ {order.total.toLocaleString()}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${\n                        order.status === 'Aprobada' ? 'bg-green-100 text-green-800' :\n                        order.status === 'Pendiente' ? 'bg-orange-100 text-orange-800' :\n                        order.status === 'Recibida' ? 'bg-blue-100 text-blue-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {order.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button \n                          onClick={() => printOrder(order)}\n                          className=\"text-gray-600 hover:text-gray-900 whitespace-nowrap\"\n                        >\n                          <i className=\"ri-printer-line\"></i>\n                        </button>\n                        <button \n                          onClick={() => handleEdit(order)}\n                          className=\"text-indigo-600 hover:text-indigo-900 whitespace-nowrap\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        {order.status === 'Pendiente' && (\n                          <button \n                            onClick={() => handleApprove(order.id)}\n                            className=\"text-green-600 hover:text-green-900 whitespace-nowrap\"\n                          >\n                            <i className=\"ri-check-line\"></i>\n                          </button>\n                        )}\n                        {order.status === 'Aprobada' && (\n                          <button \n                            onClick={() => handleReceive(order.id)}\n                            className=\"text-blue-600 hover:text-blue-900 whitespace-nowrap\"\n                          >\n                            <i className=\"ri-inbox-line\"></i>\n                          </button>\n                        )}\n                        {(order.status === 'Pendiente' || order.status === 'Aprobada') && (\n                          <button \n                            onClick={() => handleCancel(order.id)}\n                            className=\"text-red-600 hover:text-red-900 whitespace-nowrap\"\n                          >\n                            <i className=\"ri-close-line\"></i>\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Order Modal */}\n        {showModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n              <div className=\"p-6 border-b border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">\n                  {editingOrder ? 'Editar Orden de Compra' : 'Nueva Orden de Compra'}\n                </h3>\n              </div>\n              <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Proveedor *</label>\n                    <select \n                      required\n                      value={formData.supplier}\n                      onChange={(e) => setFormData({...formData, supplier: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">Seleccionar proveedor</option>\n                      {suppliers.map(supplier => (\n                        <option key={supplier} value={supplier}>{supplier}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Fecha de Entrega *</label>\n                    <input \n                      type=\"date\"\n                      required\n                      value={formData.deliveryDate}\n                      onChange={(e) => setFormData({...formData, deliveryDate: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n\n                {/* Items */}\n                <div>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h4 className=\"text-md font-semibold text-gray-900\">Productos</h4>\n                    <button \n                      type=\"button\"\n                      onClick={addProduct}\n                      className=\"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 whitespace-nowrap\"\n                    >\n                      <i className=\"ri-add-line mr-1\"></i>\n                      Agregar Producto\n                    </button>\n                  </div>\n                  <div className=\"space-y-3\">\n                    {formData.products.map((item, index) => (\n                      <div key={index} className=\"grid grid-cols-1 md:grid-cols-5 gap-3 p-3 border border-gray-200 rounded-lg\">\n                        <div className=\"md:col-span-2\">\n                          <input \n                            type=\"text\"\n                            placeholder=\"Nombre del producto\"\n                            value={item.name}\n                            onChange={(e) => updateProduct(index, 'name', e.target.value)}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <input \n                            type=\"number\"\n                            placeholder=\"Cantidad\"\n                            value={item.quantity}\n                            onChange={(e) => updateProduct(index, 'quantity', Math.max(1, Math.floor(parseFloat(e.target.value || '1'))))}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <input \n                            type=\"number\"\n                            step=\"0.01\"\n                            placeholder=\"Precio\"\n                            value={item.price}\n                            onChange={(e) => updateProduct(index, 'price', Math.max(0, parseFloat(e.target.value || '0')))}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                          />\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium text-gray-900\">\n                            RD$ {(item.quantity * item.price).toLocaleString()}\n                          </span>\n                          {formData.products.length > 1 && (\n                            <button \n                              type=\"button\"\n                              onClick={() => removeProduct(index)}\n                              className=\"text-red-600 hover:text-red-900 whitespace-nowrap\"\n                            >\n                              <i className=\"ri-delete-bin-line\"></i>\n                            </button>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"mt-4 text-right\">\n                    <p className=\"text-lg font-bold text-gray-900\">\n                      Subtotal: RD$ {calculateSubtotal().toLocaleString()}\n                    </p>\n                    <p className=\"text-lg font-bold text-gray-900\">\n                      ITBIS: RD$ {calculateItbis().toLocaleString()}\n                    </p>\n                    <p className=\"text-lg font-bold text-gray-900\">\n                      Total: RD$ {calculateTotal().toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4\">\n                  <button \n                    type=\"button\"\n                    onClick={resetForm}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 whitespace-nowrap\"\n                  >\n                    Cancelar\n                  </button>\n                  <button \n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 whitespace-nowrap\"\n                  >\n                    {editingOrder ? 'Actualizar' : 'Crear'} Orden\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}"],"names":["PurchaseOrdersPage","showModal","setShowModal","useState","editingOrder","setEditingOrder","filterStatus","setFilterStatus","filterSupplier","setFilterSupplier","orders","setOrders","formData","setFormData","suppliers","filteredOrders","order","matchesStatus","matchesSupplier","calculateSubtotal","sum","product","calculateItbis","calculateTotal","handleSubmit","e","subtotal","itbis","total","productsWithTotals","newOrder","resetForm","handleEdit","handleApprove","id","handleReceive","handleCancel","addProduct","removeProduct","index","_","i","updateProduct","field","value","updatedProducts","exportToPDF","doc","jsPDF","tableData","totalAmount","pendingOrders","o","approvedOrders","pageCount","exportToExcel","csvContent","blob","link","url","printOrder","jsx","DashboardLayout","jsxs","supplier","item"],"mappings":"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"}